"use strict";const{abs:t,acos:e,asin:a,atan:s,atan2:r,ceil:n,cos:l,exp:h,floor:o,log:i,hypot:u,max:p,min:c,pow:y,random:x,round:g,sin:f,sqrt:d,tan:m,PI:v}=Math,M={},b=.5*Math.PI,A=.017453292519943295,P=57.29577951308232;function w(t={},e=3){return{x:+t.x.toFixed(e),y:+t.y.toFixed(e)}}function L(t,e,a=!1){let s=Math.atan2(e.y-t.y,e.x-t.x);return a&&s<0&&(s+=2*Math.PI),s}function D(t){let e=2*Math.PI;return(t%=e)<0?t+e:t}function k(t,e){return t.y===e.y?Math.abs(e.x-t.x):t.x===e.x?Math.abs(e.y-t.y):Math.sqrt((e.x-t.x)**2+(e.y-t.y)**2)}function C(t,e,a,s=!1){let r={x:(e.x-t.x)*a+t.x,y:(e.y-t.y)*a+t.y};return s&&(r.angle=L(t,e),r.angle<0&&(r.angle+=2*Math.PI)),r}function T(t,e=.5,a=!1,s=!1){let r;if(t.length>2)r=((t,e,a=!1)=>{let r=4===t.length,n=t[0],l=t[1],h=r?t[2]:t[1],o=t[t.length-1],i={x:0,y:0};if(a||s){let t,a,u,p,c,y=n.x===l.x&&n.y===l.y,x=o.x===h.x&&o.y===h.y;0!==e||y?1!==e||x?(y&&(e+=1e-7),x&&(e-=1e-7),t=C(n,l,e),r?(a=C(l,h,e),u=C(h,o,e),p=C(t,a,e),c=C(a,u,e),i=C(p,c,e),i.angle=L(p,c),s&&(i.commands=[{type:"C",values:[t.x,t.y,p.x,p.y,i.x,i.y]},{type:"C",values:[c.x,c.y,u.x,u.y,o.x,o.y]}],i.segments=[{p0:n,cp1:t,cp2:p,p:i},{p0:i,cp1:c,cp2:u,p:o}])):(a=C(n,l,e),u=C(l,o,e),i=C(a,u,e),i.angle=L(a,u),s&&(i.commands=[{type:"Q",values:[a.x,a.y,i.x,i.y]},{type:"Q",values:[u.x,u.y,o.x,o.y]}],i.segments=[{p0:n,cp1:a,p:i},{p0:i,cp1:u,p:o}]))):(i.x=o.x,i.y=o.y,i.angle=L(h,o)):(i.x=n.x,i.y=n.y,i.angle=L(n,l))}else{let t=1-e;i=r?{x:t**3*n.x+3*t**2*e*l.x+3*t*e**2*h.x+e**3*o.x,y:t**3*n.y+3*t**2*e*l.y+3*t*e**2*h.y+e**3*o.y}:{x:t*t*n.x+2*t*e*l.x+e**2*o.x,y:t*t*n.y+2*t*e*l.y+e**2*o.y}}return i})(t,e,a);else{let n=t[0],l=t[1];r=C(n,l,e,a),s&&(r.commands=[{type:"L",values:[r.x,r.y]},{type:"L",values:[l.x,l.y]}],r.segments=[{p0:n,p:r},{p0:r,p:l}])}return a&&r.angle<0&&(r.angle+=2*Math.PI),r}function I(t,e,a,s,r,n,l,h,o,i=!0){const u=(t,e,a,s,r=!0)=>{let n=Math.atan2(s-e,a-t);return r&&n<0&&(n+=2*Math.PI),n};let p={cx:0,cy:0,rx:a=Math.abs(a),ry:s=Math.abs(s),startAngle:0,endAngle:0,deltaAngle:0,clockwise:l,xAxisRotation:r=a===s?0:r<0&&i?r+360:r,largeArc:n,sweep:l};if(0==a||0==s)throw Error("rx and ry can not be 0");let c,y,x=a===s?0:r*A,g=x?Math.sin(x):0,f=x?Math.cos(x):1,d=(t-h)/2,m=(e-o)/2,v=(t+h)/2,M=(e+o)/2,b=x?f*d+g*m:d,w=x?f*m-g*d:m,L=b*b/(a*a)+w*w/(s*s);if(L>1){let t=Math.sqrt(L);a*=t,s*=t,p.rx=a,p.ry=s}let D=a*s,k=a*w,C=s*b,T=k**2+C**2;if(!T)throw Error("start point can not be same as end point");let I=Math.sqrt(Math.abs((D*D-T)/T));n===l&&(I=-I);let q=I*k/s,E=-I*C/a;c=x?f*q-g*E+v:v+q,y=x?g*q+f*E+M:M+E,p.cy=y,p.cx=c;let N=u(c,y,t,e,i),z=u(c,y,h,o,i);l?z<N&&(z+=2*Math.PI):z>N&&(z-=2*Math.PI);let _=z-N;return p.startAngle=N,p.startAngle_deg=N*P,p.endAngle=z,p.endAngle_deg=z*P,p.deltaAngle=_,p.deltaAngle_deg=_*P,p}function q(t,e,a,s,r,n=0,l=!0,h=!1){if(r=h?r*A:r,n=h?n*A:n,n=a!==s&&n!==2*Math.PI?n:0,l&&a!==s){let t=E(r=n?r-n:r);r=Math.cos(r)<0?t+Math.PI:t}let o=t+a*Math.cos(r),i=e+s*Math.sin(r),u={x:o,y:i};return n&&(u.x=t+(o-t)*Math.cos(n)-(i-e)*Math.sin(n),u.y=e+(o-t)*Math.sin(n)+(i-e)*Math.cos(n)),u}function E(t,e,a){if(e===a||t%Math.PI*.5==0)return t;let s=Math.atan(Math.tan(t)*(e/a));return s=Math.cos(t)<0?s+Math.PI:s,s}function N(t,e,a){let s=-t*Math.sin(a),r=e*Math.cos(a);return Math.atan2(r,s)}function z(t=[]){let e=[],a=function(t=[]){let e=t.length,a=4===e,s=t[0],r=t[1],n=a?t[2]:r,l=a?t[3]:t[2],h=Math.min(s.y,l.y),o=Math.min(s.x,l.x),i=Math.max(s.x,l.x),u=Math.max(s.y,l.y),p=!1;(r.y<h||r.y>u||n.y<h||n.y>u||r.x<o||r.x>i||n.x<o||n.x>i)&&(p=!0);return p}(t);return a?(function(t){let e=4===t.length?function(t,e,a,s){let[r,n,l,h,o,i,u,p]=[t.x,t.y,e.x,e.y,a.x,a.y,s.x,s.y],c=Math.min(t.y,s.y),y=Math.min(t.x,s.x),x=Math.max(t.x,s.x),g=Math.max(t.y,s.y);if(e.y>=c&&e.y<=g&&a.y>=c&&a.y<=g&&e.x>=y&&e.x<=x&&a.x>=y&&a.x<=x)return[];for(var f,d,m,v,M,b,A,P,w=[],L=0;L<2;++L)if(0==L?(d=6*r-12*l+6*o,f=-3*r+9*l-9*o+3*u,m=3*l-3*r):(d=6*n-12*h+6*i,f=-3*n+9*h-9*i+3*p,m=3*h-3*n),Math.abs(f)<1e-12){if(Math.abs(d)<1e-12)continue;0<(v=-m/d)&&v<1&&w.push(v)}else(A=d*d-4*m*f)<0?Math.abs(A)<1e-12&&0<(v=-d/(2*f))&&v<1&&w.push(v):(0<(M=(-d+(P=Math.sqrt(A)))/(2*f))&&M<1&&w.push(M),0<(b=(-d-P)/(2*f))&&b<1&&w.push(b));var D=w.length;for(;D--;)v=w[D];return w}(t[0],t[1],t[2],t[3]):function(t,e,a){let s,r,n,l=Math.min(t.y,a.y),h=Math.min(t.x,a.x),o=Math.max(t.x,a.x),i=Math.max(t.y,a.y);if(e.y>=l&&e.y<=i&&e.x>=h&&e.x<=o)return[];let[u,p,c,y,x,g]=[t.x,t.y,e.x,e.y,a.x,a.y],f=[];for(var d=0;d<2;++d)s=0==d?u-2*c+x:p-2*y+g,r=0==d?-2*u+2*c:-2*p+2*y,Math.abs(s)>1e-12&&(n=-r/(2*s),n>0&&n<1&&f.push(n));return f}(t[0],t[1],t[2]);return e}(t).forEach(a=>{let s=T(t,a);e.push(s)}),e):e}function _(t,e,a={}){let{rx:s,ry:r,cx:n,cy:l,xAxisRotation:h,startAngle:o,endAngle:i,deltaAngle:u,sweep:p,deltaAngle_param:c}=a,y=[];if(s===r){let a=0===Math.abs(o%b),r=!!a&&0===Math.abs(i%b);if(a&&r){if(!!(0===Math.abs(u%b))&&0===Math.abs(u%v)){let a=t.x===e.x,r=p?s:-s;if(t.y===e.y){r=t.x<e.x?-r:r,y=[{x:n,y:l+r}]}if(a){r=t.y<e.y?r:-r,y=[{x:n+r,y:l}]}return y}}}u=i-o;const x=(t,e,a,s,r,n)=>{let l=n?Math.cos(n):1,h=n?Math.sin(n):0,o=s*Math.cos(t),i=r*Math.sin(t);return{x:e+l*o-h*i,y:a+h*o+l*i}};let g,f,d,m,M,A=Math.tan(h);M=Math.atan2(-r*A,s);let P=M,w=M+Math.PI,L=Math.atan2(r,s*A),D=L+Math.PI,k=[t.x,e.x],C=[t.y,e.y],T=Math.min(...k),I=Math.max(...k),q=Math.min(...C),E=Math.max(...C),N=x(i-.999*u,n,l,s,r,h),z=x(i-.001*u,n,l,s,r,h);return(N.x>I||z.x>I)&&(g=x(P,n,l,s,r,h),y.push(g)),(N.x<T||z.x<T)&&(f=x(w,n,l,s,r,h),y.push(f)),(N.y<q||z.y<q)&&(m=x(D,n,l,s,r,h),y.push(m)),(N.y>E||z.y>E)&&(d=x(L,n,l,s,r,h),y.push(d)),y}function j(t,e=.001){let a=0;for(let e=0,s=t.length;s&&e<s;e++){let s=t[e].x,r=t[e===t.length-1?0:e+1];a+=s*r.y*.5-r.x*t[e].y*.5}return Math.abs(a)<e}function S(t,e=-1,a=1){let s,r,n,l,h,o,i,u,p=[];n=.5*(a+e),l=.5*(a-e);for(let e=(t+1>>1)-1;e>=0;e--){r=Math.cos(Math.PI*(e+.75)/(t+.5));do{u=1,i=0;for(let e=0;e<t;e++)o=i,i=u,u=((2*e+1)*r*i-e*o)/(e+1);h=t*(r*u-i)/(r*r-1),s=r,r=s-u/h}while(Math.abs(r-s)>1e-14);let a=2*l/((1-r*r)*h*h),c=n+l*r;p.push([a,-c],[a,c])}return p}function $(t,e,a,s,r=[]){let n=.5*(s-a),l=.5*(s+a),h=0;for(let a=0;a<r.length;a++){let[s,o]=r[a],i=l+n*o;h+=s*Math.sqrt(Math.pow(t*Math.sin(i),2)+Math.pow(e*Math.cos(i),2))}return Math.abs(n*h)}function F(t,e,a,s,r){return t*(t*(-3*e+9*a-9*s+3*r)+6*e-12*a+6*s)-3*e+3*a}function O(t,e=1,a=0){let s;return s=4===t.length?((t,e,a,s,r=0,n)=>{if(0===r)return 0;let l=(r=r>1?1:r<0?0:r)/2,h=`wa${n}`;M[h]||(M[h]=S(n));const o=M[h];let i=0,u=t.x,p=t.y,c=e.x,y=e.y,x=a.x,g=a.y,f=s.x,d=s.y;for(let t=0,e=o.length;t<e;t++){let[e,a]=[o[t][0],o[t][1]],s=-l*a+l,r=F(s,u,c,x,f)**2+F(s,p,y,g,d)**2;i+=e*Math.sqrt(r)}return l*i})(t[0],t[1],t[2],t[3],e,a):3===t.length?((t,e,a,s,r=!1)=>{if(0===s)return 0;if(r){let s=k(t,e)+k(e,a),r=k(t,a);if(s===r)return r}let n,l,h,o,i,u,p,c,y;c=2*e.x,y=2*e.y,o=t.x-c+a.x,p=t.y-y+a.y,i=c-2*t.x,u=y-2*t.y,n=4*(o*o+p*p),l=4*(o*i+p*u),h=i*i+u*u;const x=l/(2*n),g=s+x,f=h/n-x**2;return Math.sqrt(n)/2*(g*Math.sqrt(g**2+f)-x*Math.sqrt(x**2+f)+f*Math.log((g+Math.sqrt(g**2+f))/(x+Math.sqrt(x**2+f))))})(t[0],t[1],t[2],e):k(t[0],t[1]),s}function R(t){let e=[];try{t.map((t,e)=>"m"===t.type.toLowerCase()?e:-1).filter(t=>-1!==t)}catch{console.log("catch",t)}let a=t.map((t,e)=>"m"===t.type.toLowerCase()?e:-1).filter(t=>-1!==t);if(1===a.length)return[t];a.forEach((s,r)=>{e.push(t.slice(s,a[r+1]))});let s=0;return e.forEach((t,a)=>{t.forEach((t,r)=>{e[a][r].index=s,s++})}),e}function Q(t,e=24){let a=function(t,e=48){if(!Array.isArray(t)||t.length<=e)return t;let a=t.length,s=a/e,r=[t[0]];for(let a=0;a<e;a++)r.push(t[Math.floor(a*s)]);let n=r.length;return r[n-1]!==t[a-1]&&(r[n-1]=t[a-1]),r}(t,e),{width:s,height:r}=Z(a),n=((s+r)/2)**2;var l,h;return(l=t[0],((h=t[t.length-1]).x-l.x)**2+(h.y-l.y)**2)<n}function Z(t,e=-1){let a=t.map(t=>t.x),s=t.map(t=>t.y),r=Math.min(...a),n=Math.max(...a),l=Math.min(...s),h=Math.max(...s),o={x:r,left:r,right:n,y:l,top:l,bottom:h,width:n-r,height:h-l};if(e>-1)for(let t in o)o[t]=+o[t].toFixed(e);return o}function V(t){let e=[];return t.forEach(t=>{let a=function(t){let e=function(t){let e=[];for(let a=0;a<t.length;a++){let s=t[a],r=a>0?t[a-1]:t[a],{type:n,values:l}=s,h={x:r.values[r.values.length-2],y:r.values[r.values.length-1]},o=l.length?{x:l[l.length-2],y:l[l.length-1]}:"",i=l.length?{x:l[0],y:l[1]}:"";switch(n){case"A":let[t,a,s,r,n,u,p]=l;if(!(t!==a)){let t=o.x-h.x,a=o.y-h.y,s=h.x+t/2,r=h.y+a/2,l=0===a,i=0===t;if(l&&!i||!l&&i){let h=l?.5*t:.5*a;h=n?h:-h;let o=l?{x:s,y:r-h}:{x:s-h,y:r};e.push(o)}}break;case"C":let c={x:l[2],y:l[3]};e.push(i,c);break;case"Q":e.push(i)}"z"!==n.toLowerCase()&&e.push(o)}return e}(t),a=Z(e);return a}(t);e.push(a)}),e}function B(t,e){let[a,s,r,n,l,h]=[t.x,t.y,t.width,t.height,t.x+t.width,t.y+t.height],[o,i,u,p,c,y]=[e.x,e.y,e.width,e.height,e.x+e.width,e.y+e.height],x=!1;return r*n!=u*p&&r*n>u*p&&a<o&&l>c&&s<i&&h>y&&(x=!0),x}function U(t,e,a,s,r=0){let n=t!==e;n||(r=0),n&&(a=E(a-r,t,e),s=E(s-r,t,e));let l=Math.PI*t*e,h=s-a,o=Math.abs(h)<.5*Math.PI,i=2*Math.PI,u=(h+i)%i;if(!n){return l*(Math.abs(h)/i)}return h=!r||r<0&&o?Math.abs(h):h,u=(h+i)%i,l*(u/i)}function G(t){let e,[a,s,r,n]=[t[0],t[1],t[2],t[t.length-1]];return t.length<3?0:(3===t.length&&(s={x:1*t[0].x/3+2*t[1].x/3,y:1*t[0].y/3+2*t[1].y/3},r={x:1*t[2].x/3+2*t[1].x/3,y:1*t[2].y/3+2*t[1].y/3}),e=3*(a.x*(-2*s.y-r.y+3*n.y)+s.x*(2*a.y-r.y-n.y)+r.x*(a.y+s.y-2*n.y)+n.x*(-3*a.y+s.y+2*r.y))/20,-e)}function J(t,e=.001){let a=0;for(let e=0,s=t.length;s&&e<s;e++){a+=t[e].x*t[e===t.length-1?0:e+1].y*.5-t[e===t.length-1?0:e+1].x*t[e].y*.5}return a}function H(t,e){Array.isArray(t)&&(t={x:t[0],y:t[1]});let a={x:t.x+2/3*(e[0]-t.x),y:t.y+2/3*(e[1]-t.y)},s={x:e[2]+2/3*(e[0]-e[2]),y:e[3]+2/3*(e[1]-e[3])};return{type:"C",values:[a.x,a.y,s.x,s.y,e[2],e[3]]}}function W(t,e=!1,a=-1){a>=0&&(t[0].values=t[0].values.map(t=>+t.toFixed(a)));let s=t[0].values,r=s[0],n=s[1],l=r,h=n;for(let s=1,o=t.length;s<o;s++){let o=t[s],{type:i,values:u}=o,p=e?i.toLowerCase():i.toUpperCase();if(i!==p)switch(i=p,o.type=i,i){case"a":case"A":u[5]=e?u[5]-r:u[5]+r,u[6]=e?u[6]-n:u[6]+n;break;case"v":case"V":u[0]=e?u[0]-n:u[0]+n;break;case"h":case"H":u[0]=e?u[0]-r:u[0]+r;break;case"m":case"M":e?(u[0]-=r,u[1]-=n):(u[0]+=r,u[1]+=n),l=e?u[0]+r:u[0],h=e?u[1]+n:u[1];break;default:if(u.length)for(let t=0;t<u.length;t++)u[t]=e?u[t]-(t%2?n:r):u[t]+(t%2?n:r)}let c=u.length;switch(i){case"z":case"Z":r=l,n=h;break;case"h":case"H":r=e?r+u[0]:u[0];break;case"v":case"V":n=e?n+u[0]:u[0];break;case"m":case"M":l=u[c-2]+(e?r:0),h=u[c-1]+(e?n:0);default:r=u[c-2]+(e?r:0),n=u[c-1]+(e?n:0)}a>=0&&(o.values=o.values.map(t=>+t.toFixed(a)))}return t}function Y(t,e=-1,a=!0){let s=!1;if(a){let e=t.map(t=>t.type).join(""),a=/[hstv]/gi.test(e);if(s=/[astvqmhlc]/g.test(e),!a)return t}t=a&&s?function(t,e=-1){return W(t,!1,e)}(t,e):t;let r=[],n={type:"M",values:t[0].values};r.push(n);for(let a=1,s=t.length;a<s;a++){let s,l,h,o,i,u,p,c,y=t[a],{type:x,values:g}=y,f=g.length,d=n.values,m=d.length,[v,M]=[g[f-2],g[f-1]],[b,A]=[d[m-2],d[m-1]];switch(x){case"H":n={type:"L",values:[g[0],A]};break;case"V":n={type:"L",values:[b,g[0]]};break;case"T":[s,l]=[d[0],d[1]],[b,A]=[d[m-2],d[m-1]],h=b+(b-s),o=A+(A-l),n={type:"Q",values:[h,o,v,M]};break;case"S":[s,l]=[d[0],d[1]],[b,A]=[d[m-2],d[m-1]],[p,c]=m>2&&"A"!==n.type?[d[2],d[3]]:[b,A],h=2*b-p,o=2*A-c,i=g[0],u=g[1],n={type:"C",values:[h,o,i,u,v,M]};break;default:n={type:x,values:g}}e>-1&&(n.values=n.values.map(t=>+t.toFixed(e))),r.push(n)}return r}function K(t,e,a=1){const s=2*Math.PI;let[r,n,l,h,o,i,u]=e;if(0===r||0===n)return[];let p=l?l*s/360:0,c=p?Math.sin(p):0,y=p?Math.cos(p):1,x=y*(t.x-i)/2+c*(t.y-u)/2,g=-c*(t.x-i)/2+y*(t.y-u)/2;if(0===x&&0===g)return[];r=Math.abs(r),n=Math.abs(n);let f=x*x/(r*r)+g*g/(n*n);if(f>1){let t=Math.sqrt(f);r*=t,n*=t}let d=r*r,m=r===n?d:n*n,v=x*x,M=g*g,b=d*m-d*M-m*v;b<=0?b=0:(b/=d*M+m*v,b=Math.sqrt(b)*(h===o?-1:1));let A=b?b*r/n*g:0,P=b?b*-n/r*x:0,w=y*A-c*P+(t.x+i)/2,L=c*A+y*P+(t.y+u)/2,D=(x-A)/r,k=(g-P)/n,C=(-x-A)/r,T=(-g-P)/n;const I=(t,e,a,s)=>{let r=+(t*a+e*s).toFixed(9);return 1===r||-1===r?1===r?0:Math.PI:(r=r>1?1:r<-1?-1:r,(t*s-e*a<0?-1:1)*Math.acos(r))};let q=I(1,0,D,k),E=I(D,k,C,T);0===o&&E>0?E-=2*Math.PI:1===o&&E<0&&(E+=2*Math.PI);let N=(+(Math.abs(E)/(s/4)).toFixed(0)||1)*a;E/=N;let z=[];const _=1.5707963267948966,j=.551785;let S=E===_?j:E===-_?-j:4/3*Math.tan(E/4),$=E?Math.cos(E):1,F=E?Math.sin(E):0;const O=(t,e,a,s,r)=>{let n=t!=e?Math.cos(t):s,l=t!=e?Math.sin(t):r,h=Math.cos(t+e),o=Math.sin(t+e);return[{x:n-l*a,y:l+n*a},{x:h+o*a,y:o-h*a},{x:h,y:o}]};for(let t=0;t<N;t++){let t={type:"C",values:[]};O(q,E,S,$,F).forEach(e=>{let a=e.x*r,s=e.y*n;t.values.push(y*a-c*s+w,c*a+y*s+L)}),z.push(t),q+=E}return z}function X(t=[],{toAbsolute:e=!0,toLonghands:a=!0,quadraticToCubic:s=!1,arcToCubic:r=!1,arcAccuracy:n=4}={},{hasRelatives:l=!0,hasShorthands:h=!0,hasQuadratics:o=!0,hasArcs:i=!0,testTypes:u=!1}={}){if(u){let e=Array.from(new Set(t.map(t=>t.type))).join("");l=/[lcqamts]/gi.test(e),o=/[qt]/gi.test(e),i=/[a]/gi.test(e),h=/[vhst]/gi.test(e),isPoly=/[mlz]/gi.test(e)}return(o&&s||i&&r)&&(a=!0,e=!0),l&&e&&(t=W(t,!1)),h&&a&&(t=Y(t,-1,!1)),i&&r&&(t=function(t,{arcAccuracy:e=1}={}){let a=[t[0]];for(let s=1,r=t.length;s<r;s++){let r=t[s],n=t[s-1].values,l=n.length,h={x:n[l-2],y:n[l-1]};"A"===r.type?K(h,r.values,e).forEach(t=>{a.push(t)}):a.push(r)}return a}(t,n)),o&&s&&(t=function(t){let e=[t[0]];for(let a=1,s=t.length;a<s;a++){let s=t[a],r=t[a-1].values,n=r.length,l={x:r[n-2],y:r[n-1]};"Q"===s.type?e.push(H(l,s.values)):e.push(s)}return e}(t)),t}function tt(t,{toAbsolute:e=!0,toLonghands:a=!0,quadraticToCubic:s=!1,arcToCubic:r=!1,arcAccuracy:n=4}={}){let l=st(t),{hasRelatives:h,hasShorthands:o,hasQuadratics:i,hasArcs:u}=l,p=l.pathData;return p=X(p,{toAbsolute:e,toLonghands:a,quadraticToCubic:s,arcToCubic:r,arcAccuracy:n},{hasRelatives:h,hasShorthands:o,hasQuadratics:i,hasArcs:u}),p}const et=new Set([77,109,65,97,67,99,76,108,81,113,83,115,84,116,72,104,86,118,90,122]),at=new Uint8Array(128);function st(t,e=!0){t=t.trim();const a=new Set([5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279]),s=t=>32===t||44===t||10===t||13===t||8232===t||8233===t||9===t||11===t||12===t||160===t||t>=5760&&a.has(t);let r,n=0,l=t.length,h="",o=[],i=-1,u="",p=!1,c=0,y=0,x=0,g=!1,f=new Set([]),d=[];const m=()=>{g&&("M"===h?h="L":"m"===h&&(h="l"),o.push({type:h,values:[]}),i++,y=0,g=!1)},v=(t=!1)=>{(t?c>0:""!==u)&&(e&&-1===i&&(r="Pathdata must start with M command",d.push(r),h="M",o.push({type:h,values:[]}),x=2,y=0,i++),"A"===h||"a"===h?(u=M(),o[i].values.push(...u)):(e&&u[1]&&"."!==u[1]&&"0"===u[0]&&(r=`${i}. command: Leading zeros not valid: ${u}`,d.push(r)),o[i].values.push(+u)),y++,u="",c=0,g=y>=x)},M=()=>{let t=u.length,e=!1;return 3===y&&2===t||4===y&&t>1?(u=[+u[0],+u[1]],e=!0,y++):3===y&&t>=3&&(u=[+u[0],+u[1],+u.substring(2)],e=!0,y+=2),e?u:[+u]},b=()=>{if(i>0){let t=o[i].values.length;if(t&&t<x||t&&t>x||("z"===h||"Z"===h)&&t>0){r=`${i}. command of type "${h}": ${x-t} values too few - ${x} expected`,d[d.length-1]!==r&&d.push(r)}}};let A=!1,P=!1,w=!1;for(;n<l;){let a=t.charCodeAt(n),l=a>47&&a<58;if(l||(A=101===a||69===a,P=45===a||43===a,w=46===a),l||P||w||A){if(p||45!==a&&46!==a)m();else{let t=46===a;v(t),m(),t&&c++}u+=t[n],p=A,n++}else if((a<48||a>5759)&&s(a))v(),n++;else{if(a>64){if(!et.has(a)){r=`${i}. command "${t[n]}" is not a valid type`,d.push(r),n++;continue}""!==u&&(o[i].values.push(+u),y++,u=""),e&&b(),h=t[n],x=at[a];let s="M"===h||"m"===h,l=i>0&&("z"===o[i].type||"Z"===o[i].type);f.add(h),l&&!s&&(o.push({type:"m",values:[0,0]}),i++),o.push({type:h,values:[]}),i++,c=0,y=0,g=!1,n++;continue}l||(r=`${i}. ${t[n]} is not a valid separarator or token`,d.push(r),u=""),n++}}if(v(),e&&b(),e&&d.length){if(r="Invalid path data:\n"+d.join("\n"),"log"!==e)throw new Error(r);console.log(r)}o[0].type="M";let L=Array.from(f).join(""),D=/[lcqamts]/g.test(L),k=/[vhst]/gi.test(L),C=/[a]/gi.test(L),T=/[qt]/gi.test(L);return{pathData:o,hasRelatives:D,hasShorthands:k,hasQuadratics:T,hasArcs:C}}function rt(t){return t.map(t=>`${t.type} ${t.values.join(" ")}`).join(" ")}function nt(t,e=!1){let a,s,r,n,l,h,o,i,u,p,c,y,x,g,f,d,m=[],v=t.nodeName;((t,e=9)=>{const a="svg"!==t.nodeName?t.closest("svg"):t,s=t=>{if(null===t)return 0;let a=t.match(/([a-z]+)/gi);a=a?a[0]:"";let s,r=parseFloat(t);if(!a)return r;switch(a){case"in":s=96;break;case"pt":s=1/72*96;break;case"cm":s=1/2.54*96;break;case"mm":s=1/2.54*96/10;break;case"em":case"rem":s=16;break;default:s=1}return+(r*s).toFixed(e)};let r=a.getAttribute("width");r=r?s(r):300;let n=a.getAttribute("height");n=r?s(n):150;let l=a.getAttribute("viewBox");l=l?l.replace(/,/g," ").split(" ").filter(Boolean).map(t=>+t):[];let h=l.length?l[2]:r,o=l.length?l[3]:n,i=h/100,u=o/100,p=Math.sqrt((Math.pow(i,2)+Math.pow(u,2))/2),c=["x","width","x1","x2","rx","cx","r"],y=["y","height","y1","y2","ry","cy"];t.getAttributeNames().forEach(e=>{let a=t.getAttribute(e),r=a;if(c.includes(e)||y.includes(e)){let n=c.includes(e)?i:u;n="r"===e&&h!=o?p:n;let l=a.match(/([a-z|%]+)/gi);l=l?l[0]:"",r=a.includes("%")?parseFloat(a)*n:s(a),t.setAttribute(e,+r)}})})(t);const M=e=>(a={},e.forEach(e=>{a[e]=+t.getAttribute(e)}),a);switch(v){case"path":r=t.getAttribute("d"),m=tt(r);break;case"rect":s=["x","y","width","height","rx","ry"],({x:n,y:l,width:h,height:o,rx:u,ry:p}=M(s)),u||p?(u>h/2&&(u=h/2),p>o/2&&(p=o/2),m=[{type:"M",values:[n+u,l]},{type:"L",values:[n+h-u,l]},{type:"A",values:[u,p,0,0,1,n+h,l+p]},{type:"L",values:[n+h,l+o-p]},{type:"A",values:[u,p,0,0,1,n+h-u,l+o]},{type:"L",values:[n+u,l+o]},{type:"A",values:[u,p,0,0,1,n,l+o-p]},{type:"L",values:[n,l+p]},{type:"A",values:[u,p,0,0,1,n+u,l]},{type:"Z",values:[]}]):m=[{type:"M",values:[n,l]},{type:"L",values:[n+h,l]},{type:"L",values:[n+h,l+o]},{type:"L",values:[n,l+o]},{type:"Z",values:[]}];break;case"circle":case"ellipse":s=["cx","cy","rx","ry","r"],({cx:c,cy:y,r:i,rx:u,ry:p}=M(s)),"circle"===v?(u=i,p=i):(u=u||i,p=p||i),m=[{type:"M",values:[c+u,y]},{type:"A",values:[u,p,0,1,1,c-u,y]},{type:"A",values:[u,p,0,1,1,c+u,y]}];break;case"line":s=["x1","y1","x2","y2"],({x1:x,y1:f,x2:g,y2:d}=M(s)),m=[{type:"M",values:[x,f]},{type:"L",values:[g,d]}];break;case"polygon":case"polyline":let e=t.getAttribute("points").replaceAll(","," ").split(" ").filter(Boolean);for(let t=0;t<e.length;t+=2)m.push({type:0===t?"M":"L",values:[+e[t],+e[t+1]]});"polygon"===v&&m.push({type:"Z",values:[]})}return e?rt(m):m}function lt(t,{arcToCubic:e=!1,arcAccuracy:a=4,quadraticToCubic:s=!1}={},r=!1){let n={isValid:!1,dummyPath:"M40 10h20v50h-20zm0 60h20v20h-20z"};if(!t)return;let l=Array.isArray(t)&&t.length?"array":t?typeof t:null;if(t&&"string"===l){let e=t.includes("<svg")&&t.includes("</svg"),a=t.includes("totalLength")&&t.includes("segments"),s=!a&&(t.includes("{")&&t.includes('"x"')&&t.includes('"y"'));if(e&&(t=t.replace(/<\?xml[\s\S]*?\?>/gi,"").replace(/<!DOCTYPE[\s\S]*?>/gi,"").replace(/<!--[\s\S]*?-->/g,"").trim()),!e&&(a||s))try{let e=JSON.parse(t);a?t=e.pathData:s&&(t=e),l="array"}catch{throw Error("No valid JSON")}}let h=[],o={arcToCubic:e,arcAccuracy:a,quadraticToCubic:s},i=!0;if("object"===l&&t.nodeName){let e=["path","polygon","polyline","line","circle","ellipse","rect"];if("svg"===t.nodeName){t.querySelectorAll(`${e.join(", ")}`).forEach(t=>{h.push(...nt(t))})}else t.closest("svg")&&e.includes(t.nodeName)&&(l="element",h=nt(t));h.length&&(t=h,l="array")}if(!l)return null;const u=t=>{let e=[{type:"M",values:[t[0],t[1]]}];for(let a=3,s=t.length;a<s;a+=2){let[s,r]=[t[a-1],t[a]];e.push({type:"L",values:[s,r]})}return e};if("array"===l){if(!!t[0].type){"object"==typeof t[0]&&"object"!=typeof t[0].constructor&&(t=(t=>{let e=[],a="M";return t.forEach(t=>{let{type:s,values:r}=t;"z"===a.toLocaleLowerCase()&&"m"!==s.toLocaleLowerCase()&&e.push({type:"m",values:[0,0]}),e.push({type:s,values:r}),a=s}),e})(t)),h=t}else{if(Array.isArray(t[0])){let e=!("object"!=typeof t[0][0]||!t[0][0].x||isNaN(t[0][0].x)),a=2===t[0][0].length&&!isNaN(t[0][0][0]);if(e||a)for(let a=0,s=t.length;a<s;a++){let s=t[a];for(let t=0,a=s.length;t<a;t++){let a=s[t],r=0===t?"M":"L",n=e?[a.x,a.y]:[a[0],a[1]];h.push({type:r,values:n})}}else{if(2===t[0].length&&!isNaN(t[0][0])){h=[{type:"M",values:[t[0][0],t[0][1]]}];for(let e=1,a=t.length;e<a;e++){let a=t[e];h.push({type:"L",values:[a[0],a[1]]})}}}}else{let e=!isNaN(t[0]);if(t[0].hasOwnProperty("x")&&t[0].hasOwnProperty("y")){h=[{type:"M",values:[t[0].x,t[0].y]}];for(let e=1,a=t.length;e<a;e++){let a=t[e];h.push({type:"L",values:[a.x,a.y]})}Q(t)&&h.push({type:"Z",values:[]})}else e&&(h=u(t))}}}else{if((t=t.trim()).startsWith("<svg")){let e=["path","polygon","polyline","line","rect","circle","ellipse"],a=(new DOMParser).parseFromString(t,"text/html").querySelector("svg").querySelectorAll(`${e.join(", ")}`);for(let t=0,e=a.length;t<e;t++){let e=a[t];if(e.closest("defs")||e.closest("symbol")||e.closest("pattern")||e.closest("mask")||e.closest("clipPath"))continue;let s=e.closest("g");if(s){if("none"===s.getAttribute("display")||"none"===s.style.display)continue}let r=nt(e);h.push(...r)}}else{let e=t.startsWith("M")||t.startsWith("m"),a=/[lcqamtsvhs]/gi.test(t);if(e)h=tt(t,o),i=!1;else{if(!isNaN(t.trim()[0])&&!a)try{t=t.split(/,| /).map(Number),h=u(t);let e=(t=>{let e=[{x:t[0],y:t[1]}];for(let a=3,s=t.length;a<s;a+=2){let[s,r]=[t[a-1],t[a]];e.push({x:s,y:r})}return e})(t);Q(e)&&h.push({type:"Z",values:[]}),i=!1}catch{console.warn("not a valid poly string")}}}}return h.length?r?(n.isValid=!0,n):(i&&(h=X(h,o)),h):(console.warn("No valid input  - could not create lookup"),r?(h=tt(n.dummyPath),n):[])}function ht(t={}){Object.assign(this,t)}function ot(t,e="medium",a=!1,s=!0,{arcToCubic:r=!1,arcAccuracy:n=2,quadraticToCubic:l=!1}={}){return it(t,e,a,s,{arcToCubic:r,arcAccuracy:n,quadraticToCubic:l})}function it(t,e="medium",a=!1,s=!0,{arcToCubic:r=!1,arcAccuracy:n=2,quadraticToCubic:l=!1}={}){if(t&&"string"==typeof t&&t.includes("totalLength")&&t.includes("segments"))try{return new ht(JSON.parse(t))}catch{throw Error("No valid JSON")}if(!t)throw Error("No path data defined");r&&"high"===e&&(n=4);let h=lt(t,{arcToCubic:r,arcAccuracy:n,quadraticToCubic:l});if(!h.length)throw Error("No valid path data to parse");let o=yt(h,e,a,s);return o.pathData=h,a?o.pathLength:new ht(o)}function ut(t,e="medium",a=!0){return ct(lt(t),e,a)}function pt(t,e="medium",a=!0){return ct(lt(t),e,a)}function ct(t,e="medium",a=!0){return yt(t,e,a)}function yt(t,e="medium",a=!1,s=!0){a&&(s=!1);let r="high"===e,n="medium"===e?24:12,l=[12,24,36,48,60,64,72],h=`wa${n}`;M[h]||(M[h]=S(n));let o=M[h],i="low"===e?10:12,u="low"===e?15:"medium"===e?23:35,p=u,c=t.length,y=0,x=t[0],g={totalLength:0,segments:[]},f={x:x.values[0],y:x.values[0]},d=0,m=0;for(let e=1;e<c;e++){let h=t[e-1].values,c=h.length;f={x:h[c-2],y:h[c-1]};let P,w,D,k=t[e],{type:C,values:q}=k,N=q.length,z={x:q[N-2],y:q[N-1]},_=0,F=1,R={type:C,index:e,segIndex:m,com:{type:C,values:q,p0:f},lengths:[],points:[],angles:[],total:0};switch(C){case"M":x=t[e],_=0;break;case"Z":case"z":case"L":"z"===C.toLowerCase()&&(z={x:x.values[0],y:x.values[1]},R.type="L"),_=O([f,z]),R.points.push(f,z),s&&(D=L(f,z),R.angles.push(D));break;case"A":z={x:k.values[5],y:k.values[6]};let[h,c]=[k.values[3],k.values[4]],g=I(f.x,f.y,k.values[0],k.values[1],k.values[2],h,c,z.x,z.y,!1),{cx:m,cy:N,rx:Q,ry:Z,startAngle:V,endAngle:B,deltaAngle:U,xAxisRotation:G}=g;d=G?c?b:-b:c?0:-v,d=G<0?-1*d:d,g.tangentAdjust=d,g.isEllipse=Q!==Z,R.arcData=g;let J=U;if(Q!==Z){G*=A;let t=`wa${n}`;M[t]||(M[t]=S(n)),M.wa48||(M.wa48=S(48)),o=M[t];let e=M.wa48;V=E(V-G,Q,Z),B=E(B-G,Q,Z),J=B-V,U=U>0&&J<0||U<0&&J>0?U:J,c&&V>B&&(B+=2*v),!c&&V<B&&(B-=2*v);let a=0;R.lengths.push(y),R.angles.push(V);for(let t=1;t<u;t++){let e=V+U/u*t;a=$(Q,Z,V,e,o),_+=a,R.lengths.push(a+y),R.angles.push(e)}R.angles.push(B),_=$(Q,Z,V,B,e),R.arcData_param={cx:m,cy:N,rx:Q,ry:Z,deltaAngle:U,deltaAngle_param:J,startAngle:V,endAngle:B,largeArc:h,sweep:c,xAxisRotation:G,tangentAdjust:d,isEllipse:Q!==Z}}else if(_=2*v*Q*(1/360*Math.abs(180*U/v)),s){let t=U<0?V-v:V,e=U<0?B-v:B;R.angles=[t+b,e+b]}R.points=[f,z];break;case"C":case"Q":P={x:q[0],y:q[1]},w="C"===C?{x:q[2],y:q[3]}:P;let H="C"===C?[f,P,w,z]:[f,P,z];p="Q"===C?i:u,R.lengths.push(y);let W=j(H),Y=!1;if(W){let t=Math.min(f.y,z.y),e=Math.min(f.x,z.x),a=Math.max(f.x,z.x),s=Math.max(f.y,z.y);(P.y<t||P.y>s||w.y<t||w.y>s||P.x<e||P.x>a||w.x<e&&w.x>a)&&(Y=!0,W=!1)}if(Y&&"Q"===C){let t={x:f.x+2/3*(P.x-f.x),y:f.y+2/3*(P.y-f.y)};w={x:z.x+2/3*(P.x-z.x),y:z.y+2/3*(P.y-z.y)},P=t,C="C",R.type="C",H=[f,P,w,z]}if(W){H=[f,z],_=O(H),R.type="L",R.points.push(f,z),s&&(D=L(f,z),R.angles.push(D));break}if(_=O(H,1,r?l[0]:n),"C"===C&&r){let t,e=!1,a=.001,s=0;for(let r=1;r<l.length&&!e;r++){t=O(H,1,l[r]),s=Math.abs(t-_),s<a||r===l.length-1?(n=l[r-1],e=!0):_=t}}if(!a&&!W){if(s){let t=T(H,0,!0).angle;R.angles.push(t,T(H,1,!0).angle)}for(let t=1;t<p;t++)F=1/p*t,R.lengths.push(O(H,F,n)+y);R.points=H}break;default:_=0}a||(R.lengths.push(_+y),R.total=_),y+=_,"M"!==C&&(g.segments.push(R),m++),g.totalLength=y,"Z"===C&&(R.com.values=[z.x,z.y])}return g}function xt(t,e=0,a=!0,s=!0,r=-1){let{segments:n,pathData:l,totalLength:h}=t;n[0].angles.length||(s=!1);let o=s,i=n[0],u=n[n.length-1],p=i.points[0],c=i.angles[0];c=c<0?c+2*Math.PI:c;let y=0,x=!1,g={x:p.x,y:p.y};r>-1&&(g=w(g));let f,d,m,v,M=0;if(a&&(g.angle=c,"A"===i.type)){let{arcData:t}=i;({rx:d,ry:m,xAxisRotation:v,tangentAdjust:M}=t.isEllipse?i.arcData_param:t),d!==m&&(f=D(N(d,m,c)-v+M),g.angle=f)}if(s&&(g.index=n[0].index,g.segIndex=0,g.com=n[0].com),0===e)return g;if(e>=h){let t=u.points[u.points.length-1],e=u.angles[u.angles.length-1];if(g.x=t.x,g.y=t.y,a&&(g.angle=e,"A"===u.type)){let{arcData:t}=u;({rx:d,ry:m,xAxisRotation:v,tangentAdjust:M}=t.isEllipse?u.arcData_param:t),d!==m&&(f=D(N(d,m,e)-v+M),g.angle=f)}return s&&(g.index=l.length-1,g.segIndex=n.length-1,g.com=n[n.length-1].com),r>-1&&(g=w(g)),g}for(let t=0;t<n.length&&!x;t++){let r=n[t],{type:l,lengths:h,points:i,total:u,angles:p,com:c}=r,d=h[h.length-1],m=1/(h.length-1);if(d>=e){x=!0;let t,n=!1;switch(l){case"L":t=d-e,y=1-1/u*t,g=T(i,y,a,o),g.type="L",a&&(g.angle=p[0]);break;case"A":t=d-e;let{arcData:l}=r,{rx:x,ry:v,cx:M,cy:A,startAngle:w,endAngle:L,deltaAngle:k,xAxisRotation:C,tangentAdjust:I,sweep:E}=l.isEllipse?r.arcData_param:l,z=r.points[1],_=C*P;if(x!==v)for(let t=1;t<h.length&&!n;t++){let a=h[t];if(e<a){n=!0;let r=1/(a-h[t-1])*(a-e)||1,l=p[t-1],o=p[t],i=(l-o)*r+o;if(g=q(M,A,x,v,i,C,!1,!1),f=D(N(x,v,i)-C+I),g.angle=f,s){let t=Math.abs(i-w),e=Math.abs(L-i),a=t>=Math.PI?1:0,s=e>=Math.PI?1:0;g.commands=[{type:"A",values:[x,v,_,a,E,g.x,g.y]},{type:"A",values:[x,v,_,s,E,z.x,z.y]}]}}else e===a&&(g=z,f=D(N(x,v,L)-C+I),g.angle=f,n=!0)}else{y=1-1/u*t;let e=-k*y,n=Math.cos(e),l=Math.sin(e),h=r.points[0];if(g={x:n*(h.x-M)+l*(h.y-A)+M,y:n*(h.y-A)-l*(h.x-M)+A},a){let t=k>0?b:-b;g.angle=D(w+k*y+t)}if(s){let t=Math.abs(k*y),e=Math.abs(k-t),a=Math.abs(k-e),s=e>=Math.PI?1:0,r=a>=Math.PI?1:0;g.commands=[{type:"A",values:[x,v,_,s,E,g.x,g.y]},{type:"A",values:[x,v,_,r,E,z.x,z.y]}]}}break;case"C":case"Q":for(let t=0;t<h.length&&!n;t++){let s=h[t];if(a&&(g.angle=p[0]),0===t)g.x=c.p0.x,g.y=c.p0.y;else if(s===e)g.x=i[i.length-1].x,g.y=i[i.length-1].y;else if(s>e&&t>0){n=!0,y=m*t-m*(1/(s-(t>0?h[t-1]:h[t]))*(s-e)||0)||0,g=T(i,y,a,o)}}}g.t=y}s&&(g.index=r.index,g.segIndex=r.segIndex,g.com=r.com)}return g}function gt(t,e=9){let{segments:a}=t;if(t.hasOwnProperty("extremes")&&t.segments[0].hasOwnProperty("extremes"))return t.extremes;let s=[a[0].com.p0],r=1===a.length;for(let r=0,n=a.length;r<n;r++){let n=a[r],{type:l,points:h,com:o}=n,{p0:i,values:u}=o,p=h[h.length-1],c=[i];switch(l){case"M":continue;case"A":let{arcData:t}=n;_(i,p,t.isEllipse?n.arcData_param:t).forEach(t=>{s.push(t),c.push(t)});break;case"C":case"Q":let e=z(h);e.length&&(c.push(...e),s.push(...e))}c.push(p),s.push(p),t.segments[r].extremes=c,t.segments[r].bbox=Z(c,e)}let n=a[0].bbox;return r||(n=Z(s,e)),t.bbox=n,t.extremes=s,s}function ft(t){let{pathData:e,segments:a}=t;if(t.hasOwnProperty("area"))return t.area;let s=0,r=[],n=R(e),l=n.length>1,h=[];if(l){let t=V(n);t.forEach(function(e,a){for(let s=0;s<t.length;s++){let r=t[s];a!==s&&(B(e,r)&&h.push(s))}})}let o=[];return n.forEach((t,e)=>{r=[];let n=0,l=0,i=1,u=[];for(let e=0,s=t.length;e<s;e++){let s=t[e],{type:l,values:h}=s,o=s.hasOwnProperty("index")?s.index:e,i=a.find(t=>t.index===o)||null;if(!i)continue;let{segIndex:p}=i,c=h.length;if(h.length){let s=(e>0?t[e-1]:t[0]).values,o=s.length,y={x:s[o-2],y:s[o-1]},x={x:h[c-2],y:h[c-1]};if("C"===l||"Q"===l){let t={x:h[0],y:h[1]};u="C"===l?[y,t,{x:h[2],y:h[3]},x]:[y,t,x];let e=G(u);n+=e,i.area=e,r.push(y,x)}else if("A"===l){let{cx:t,cy:e,rx:s,ry:l,sweep:h,startAngle:o,endAngle:u,xAxisRotation:c}=i.arcData,g=U(s,l,o,u,c*A);g*=h?1:-1,g+=J([y,{x:t,y:e},x]),a[p].area=g,r.push(y,x),n+=g}else r.push(y,x)}}if(l=n+J(r),h.includes(e)){let t=o[o.length-1];i=t<0&&l>0||t>0&&l<0?1:-1}l*=i,s+=l,o.push(l)}),t.area=s,s}function dt(t,{keepCorners:e=!0,keepLines:a=!0,vertices:s=16,threshold:r=1,decimals:n=3}={}){ft(t);let{pathData:l,segments:h,totalLength:o}=t,i=o/s,u=l.filter(t=>"M"===t.type).map(t=>t.index),p=u.length,c=p>1,y=[[]],x=0,g=c?u[1]:1/0,f=[],d=[l],m=!1;p&&(d=R(l));let v=Array.from(new Set(l.map(t=>t.type))).join(""),M=!/[acsqt]/gi.test(v);if(d.forEach((t,a)=>{let s=function(t){let e=t.length;if("Z"==t[e-1].type)return!0;let a=t[0],[s,r]=[a.values[0],a.values[1]].map(t=>+t.toFixed(8)),n=t[e-1],l=n.values.length,[h,o]=[n.values[l-2],n.values[l-1]].map(t=>+t.toFixed(8));return!(s!==h||r!==o)}(t);if(s&&f.push(a),e&&M){let e=function(t,e=-1){let a=[],s={x:t[0].values[0],y:t[0].values[1]};return t.forEach(t=>{let{type:r,values:n}=t;if(n.length){let t=n.length>1?{x:n[n.length-2],y:n[n.length-1]}:"V"===r?{x:s.x,y:n[0]}:{x:n[0],y:s.y};e>-1&&(t=w(t)),a.push(t),s=t}}),a}(t,n);e.length&&(y[a]=e,s&&y[a].push(e[0]))}}),y=y.filter(Boolean),e&&M&&(m=!0,console.log("done - only polys",y)),!m&&!e){let e=y[x];for(let a=0;a<s;a++){let s=i*a,r=t.getPointAtLength(s,!1,!0,n),{x:l,y:h}=r,{index:o}=r;c&&x<p-1&&o>g&&(y.push([]),x++,g=u[x+1]),e=y[x],e.push({x:l,y:h})}let a=t.segments,r=a[a.length-1],l=r.points[r.points.length-1];e=y[x],e.push(l)}if(!m&&e){let e=y[0],s=0;for(let r=0,o=l.length;r<o;r++){let u=l[r],{type:c,values:g,index:f}=u;if("M"===c){r>0&&x<p-1&&(x++,y.push([]),e=y[x]);continue}let d=u.hasOwnProperty("index")?f:r,m=h.find(t=>t.index===d)||null;if(m){e=y[x];let{total:l,points:h}=m,u=h[0],p=h[h.length-1];e.push(u);let g=Math.ceil(l/i),f=l/g;if(!a||"L"!==c){let a=0;for(let r=1;r<g;r++){a=s+f*r;let l=t.getPointAtLength(a,!1,!0,n);l={x:l.x,y:l.y},e.push(l)}}s+=l,r===o-1&&e.push(p)}}console.log(y,x)}let b="",A="",P=1===y.length?y[0]:y;y.forEach((t,e)=>{n>-1&&(t=t.map(t=>({x:+t.x.toFixed(n),y:+t.y.toFixed(n)})));let a=`${t.map(t=>`${t.x} ${t.y}`).join(" ")} `;A+=a,b+=`M ${a}`,f.includes(e)&&(b+="Z ")});let L={poly:P,d:b,points:A};return console.log("outputData",L),L}at[77]=2,at[109]=2,at[65]=7,at[97]=7,at[67]=6,at[99]=6,at[76]=2,at[108]=2,at[81]=4,at[113]=4,at[83]=4,at[115]=4,at[84]=2,at[116]=2,at[72]=1,at[104]=1,at[86]=1,at[118]=1,at[90]=0,at[122]=0,function(){if("undefined"==typeof Path2D)try{const{Path2D:t}=require("canvas");global.Path2D=t,console.log("[Path2D_svg] Using Path2D from 'canvas'")}catch(t){console.warn("[Path2D_svg] No Path2D found. Using stub (no rendering)."),global.Path2D=class{constructor(){}moveTo(){}lineTo(){}bezierCurveTo(){}quadraticCurveTo(){}arc(){}arcTo(){}ellipse(){}rect(){}roundRect(){}closePath(){}addPath(){}}}}();class mt extends Path2D{constructor(t){if(super(t),this.pathData=[],t instanceof mt)this.pathData=[...t.pathData];else if("string"==typeof t)if("function"!=typeof parsePathDataNormalized)console.warn("parsePathDataNormalized is not defined");else{const e=parsePathDataNormalized(t);this.pathData.push(...e)}}_record(t,e){let a,s,r=2*Math.PI;switch(t){case"moveTo":a="M",s=e;break;case"lineTo":a="L",s=e;break;case"bezierCurveTo":a="C",s=e;break;case"quadraticCurveTo":a="Q",s=e;break;case"closePath":a="Z",s=[];break;case"rect":{const[t,a,s,r]=e;return void this.pathData.push({type:"M",values:[t,a]},{type:"L",values:[t+s,a]},{type:"L",values:[t+s,a+r]},{type:"L",values:[t,a+r]},{type:"Z",values:[]})}case"arc":case"ellipse":{let[a,s,n]=e,[l,h,o]=e.slice(-3),i="ellipse"===t,u=i?e[4]:0,p=i?e[3]:n,c=h-l;c=0===c||c>=r?r:c,o&&c>0&&(c-=r),!o&&c<0&&(c+=r);let y=Math.abs(c)>=2*Math.PI||0===c,x=q(a,s,n,p,l,u,!1),g=q(a,s,n,p,h,u,!1);this._currentPoint?this.pathData.push({type:"L",values:[x.x,x.y]}):this.pathData.push({type:"M",values:[x.x,x.y]});let f=u?180*u/Math.PI:0,d=c>Math.PI?1:0,m=o?0:1,v=g;if(y){v=q(a,s,n,p,D(l+Math.PI),u,!1)}let M=y?2:1;for(let t=0;t<M;t++)v=y&&0==t?v:g,this.pathData.push({type:"A",values:[n,p,f,d,m,v.x,v.y]});return void(this._currentPoint=[g.x,g.y])}case"arcTo":{let[t,a,s,r,n]=e,[l,h]=this._currentPoint||[t,a],o={x:l-t,y:h-a},i={x:s-t,y:r-a},u=Math.hypot(o.x,o.y),p=Math.hypot(i.x,i.y);if(0===u||0===p||0===n)return void this.pathData.push({type:"L",values:[t,a]});o.x/=u,o.y/=u,i.x/=p,i.y/=p;let c=o.x*i.x+o.y*i.y;c=Math.min(Math.max(c,-1),1);let y=Math.acos(c);if(0===y)return void this.pathData.push({type:"L",values:[t,a]});let x=n/Math.tan(y/2),g={x:t+o.x*x,y:a+o.y*x},f={x:t+i.x*x,y:a+i.y*x},d=o.x*i.y-o.y*i.x<0?1:0,m=0;return this.pathData.push({type:"L",values:[g.x,g.y]}),void this.pathData.push({type:"A",values:[n,n,0,m,d,f.x,f.y]})}case"roundRect":{let[t,a,s,r,n]=e;Array.isArray(n)||(n=[n,n,n,n]),2===n.length&&(n=[n[0],n[1],n[0],n[1]]),4===n.length&&(n=n.map(t=>"number"==typeof t?{rx:t,ry:t}:t));let[l,h,o,i]=n;return l.rx=Math.min(l.rx,s/2),l.ry=Math.min(l.ry,r/2),h.rx=Math.min(h.rx,s/2),h.ry=Math.min(h.ry,r/2),o.rx=Math.min(o.rx,s/2),o.ry=Math.min(o.ry,r/2),i.rx=Math.min(i.rx,s/2),i.ry=Math.min(i.ry,r/2),this.pathData.push({type:"M",values:[t+l.rx,a]}),this.pathData.push({type:"L",values:[t+s-h.rx,a]}),this.pathData.push({type:"A",values:[h.rx,h.ry,0,0,1,t+s,a+h.ry]}),this.pathData.push({type:"L",values:[t+s,a+r-o.ry]}),this.pathData.push({type:"A",values:[o.rx,o.ry,0,0,1,t+s-o.rx,a+r]}),this.pathData.push({type:"L",values:[t+i.rx,a+r]}),this.pathData.push({type:"A",values:[i.rx,i.ry,0,0,1,t,a+r-i.ry]}),this.pathData.push({type:"L",values:[t,a+l.ry]}),this.pathData.push({type:"A",values:[l.rx,l.ry,0,0,1,t+l.rx,a]}),this.pathData.push({type:"Z",values:[]}),void(this._currentPoint=[t+l.rx,a])}default:return}this.pathData.push({type:a,values:s}),this._currentPoint=s.slice(-2)}moveTo(...t){return this._record("moveTo",t),super.moveTo(...t)}lineTo(...t){return this._record("lineTo",t),super.lineTo(...t)}bezierCurveTo(...t){return this._record("bezierCurveTo",t),super.bezierCurveTo(...t)}quadraticCurveTo(...t){return this._record("quadraticCurveTo",t),super.quadraticCurveTo(...t)}arc(...t){return this._record("arc",t),super.arc(...t)}arcTo(...t){return this._record("arcTo",t),super.arcTo(...t)}ellipse(...t){return this._record("ellipse",t),super.ellipse(...t)}rect(...t){return this._record("rect",t),super.rect(...t)}roundRect(...t){return this._record("roundRect",t),super.roundRect(...t)}closePath(...t){return this._record("closePath",t),super.closePath(...t)}getPathData(t={}){return Object.keys(t).length&&(this.pathData=X(this.pathData,t)),this.pathData}addPath(t,e){let a=[];if(super.addPath(t,e),t instanceof mt)a=t.getPathData();else{if("string"!=typeof t)throw new Error("Unsupported path type for addPath");a=parsePathDataNormalized(t)}if(e){let{a:t=1,b:s=0,c:r=0,d:n=1,e:l=0,f:h=0}=e;a=X(a,{arcToCubic:!0});for(let e=0,o=a.length;e<o;e++){let{type:o,values:i}=a[e];if(i.length)for(let e=0,a=i.length;e<a;e+=2){let a={x:i[e],y:i[e+1]};i[e]=t*a.x+r*a.y+l,i[e+1]=s*a.x+n*a.y+h}}}this.pathData.push(...a)}getPathDataString(t={}){return Object.keys(t).length&&(this.pathData=X(this.pathData,t)),this.pathData.map(t=>`${t.type} ${t.values.join(" ")}`).join(" ")}getD(t={}){return Object.keys(t).length&&(this.pathData=X(this.pathData,t)),this.pathData.map(t=>`${t.type} ${t.values.join(" ")}`).join(" ")}getPathLengthLookup(t={}){return"function"!=typeof getPathLengthLookup?(console.warn("getPathLengthLookup is not defined"),this.pathData):getPathLengthLookup(this.pathData,{})}getPathLookup(t={}){return"function"!=typeof getPathLengthLookup?(console.warn("getPathLengthLookup is not defined"),this.pathData):(console.log("lookup conv",t),getPathLengthLookup(this.pathData,t))}}SVGGeometryElement.prototype.getPathLookup=function(t="medium",e=!1,a=!0){return it(this,t,e,a)},SVGGeometryElement.prototype.getPathLengthLookup=function(t="medium",e=!1,a=!0){return it(this,t,e,a)},ht.prototype.getPointAtLength=function(t=0,e=!1,a=!1,s=-1){return xt(this,t,e,a,s)},ht.prototype.getExtremes=function(){return gt(this)},ht.prototype.getBBox=function(){if(this.hasOwnProperty("bbox"))return this.bbox;return gt(this),this.bbox},ht.prototype.getArea=function(){return ft(this)},ht.prototype.getPolygon=function({keepCorners:t=!0,keepLines:e=!0,threshold:a=1,vertices:s=16,decimals:r=3}={}){return dt(this,{keepCorners:t,keepLines:e,threshold:a,vertices:s,decimals:r})},ht.prototype.getSegmentAtLength=function(t=0,e=!0,a=!0,s=-1){return function(t,e=0,a=!0,s=!0,r=-1){a&&gt(t),s&&ft(t);let n=t.segments,l=xt(t,e,!0,!0,r),{com:h,t:o,index:i,segIndex:u,angle:p,x:c,y:y}=l,x={type:"M",values:[h.p0.x,h.p0.y]};if("z"===h.type.toLowerCase()){let{points:t}=n[u],e=t[t.length-1];h={type:"L",values:[e.x,e.y]}}let g=[x,h],f={angle:p,com:h,index:i,pathData:g,d:rt(g),t:o,x:c,y:y};return a&&(f.bbox=n[u]?.bbox,n[u]||console.log("no bb",u)),s&&(f.area=n[u]?.area||0),f}(this,t,e,a,s)},ht.prototype.splitPathAtLength=function(t=0){return function(t,e=0){let a=xt(t,e,!0,!0),s=t.pathData,{x:r,y:n,index:l,commands:h=[]}=a;if(!e)return{pathDataArr:[s,[]],dArr:[rt(s),""],index:0};let[o,i]=h,u={x:s[0].values[0],y:s[0].values[1]},p=[],c=[];s.forEach((t,e)=>{let{type:a,values:s}=t;e<l?p.push(t):e===l?(p.push(o),c.push({type:"M",values:[r,n]},i)):e>l&&("z"===a.toLowerCase()?c.push({type:"L",values:[u.x,u.y]}):c.push(t))});let y=rt(p),x=rt(c);return{pathDataArr:[p,c],dArr:[y,x],index:l}}(this,t)},"undefined"!=typeof window&&(window.getPathLengthLookup=it,window.getPathLookup=ot,window.getPathLength=pt,window.getPathLengthFromD=ut,window.parsePathDataString=st,window.normalizePathInput=lt,window.parsePathDataNormalized=tt,window.getPathDataFromEl=nt,window.normalizePathData=X,window.stringifyPathData=rt,window.getPolygonFromLookup=dt,window.Path2D_svg=mt),exports.PI=v,exports.Path2D_svg=mt,exports.abs=t,exports.acos=e,exports.asin=a,exports.atan=s,exports.atan2=r,exports.ceil=n,exports.cos=l,exports.exp=h,exports.floor=o,exports.getPathDataFromEl=nt,exports.getPathLength=pt,exports.getPathLengthFromD=ut,exports.getPathLengthLookup=it,exports.getPathLookup=ot,exports.getPolygonFromLookup=dt,exports.hypot=u,exports.log=i,exports.max=p,exports.min=c,exports.normalizePathData=X,exports.normalizePathInput=lt,exports.parsePathDataNormalized=tt,exports.parsePathDataString=st,exports.pow=y,exports.random=x,exports.round=g,exports.sin=f,exports.sqrt=d,exports.stringifyPathData=rt,exports.tan=m;
