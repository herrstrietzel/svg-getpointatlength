const{abs:e,acos:t,asin:l,atan:a,atan2:n,ceil:s,cos:r,exp:i,floor:u,log:o,hypot:c,max:y,min:p,pow:h,random:g,round:x,sin:f,sqrt:d,tan:m,PI:v}=Math,A={},b=.5*v,w=.017453292519943295,L=57.29577951308232;function C(e={},t=3){return{x:+e.x.toFixed(t),y:+e.y.toFixed(t)}}function k(e,t,l=!1){let a=n(t.y-e.y,t.x-e.x);return l&&a<0&&(a+=2*v),a}function N(e){let t=2*v;return(e%=t)<0?e+t:e}function M(t,l){return t.y===l.y?e(l.x-t.x):t.x===l.x?e(l.y-t.y):d((l.x-t.x)**2+(l.y-t.y)**2)}function S(e,t,l,a=!1){let n={x:(t.x-e.x)*l+e.x,y:(t.y-e.y)*l+e.y};return a&&(n.angle=k(e,t),n.angle<0&&(n.angle+=2*v)),n}function E(e,t=.5,l=!1,a=!1){let n;if(e.length>2)n=((e,t,l=!1)=>{let n=4===e.length,s=e[0],r=e[1],i=n?e[2]:e[1],u=e[e.length-1],o={x:0,y:0};if(l||a){let e,l,c,y,p,h=s.x===r.x&&s.y===r.y,g=u.x===i.x&&u.y===i.y;0!==t||h?1!==t||g?(h&&(t+=1e-7),g&&(t-=1e-7),e=S(s,r,t),n?(l=S(r,i,t),c=S(i,u,t),y=S(e,l,t),p=S(l,c,t),o=S(y,p,t),o.angle=k(y,p),a&&(o.commands=[{type:"C",values:[e.x,e.y,y.x,y.y,o.x,o.y]},{type:"C",values:[p.x,p.y,c.x,c.y,u.x,u.y]}],o.segments=[{p0:s,cp1:e,cp2:y,p:o},{p0:o,cp1:p,cp2:c,p:u}])):(l=S(s,r,t),c=S(r,u,t),o=S(l,c,t),o.angle=k(l,c),a&&(o.commands=[{type:"Q",values:[l.x,l.y,o.x,o.y]},{type:"Q",values:[c.x,c.y,u.x,u.y]}],o.segments=[{p0:s,cp1:l,p:o},{p0:o,cp1:c,p:u}]))):(o.x=u.x,o.y=u.y,o.angle=k(i,u)):(o.x=s.x,o.y=s.y,o.angle=k(s,r))}else{let e=1-t;o=n?{x:e**3*s.x+3*e**2*t*r.x+3*e*t**2*i.x+t**3*u.x,y:e**3*s.y+3*e**2*t*r.y+3*e*t**2*i.y+t**3*u.y}:{x:e*e*s.x+2*e*t*r.x+t**2*u.x,y:e*e*s.y+2*e*t*r.y+t**2*u.y}}return o})(e,t,l);else{let s=e[0],r=e[1];n=S(s,r,t,l),a&&(n.commands=[{type:"L",values:[n.x,n.y]},{type:"L",values:[r.x,r.y]}],n.segments=[{p0:s,p:n},{p0:n,p:r}])}return l&&n.angle<0&&(n.angle+=2*v),n}function T(t,l,a,s,i,u,o,c,y,p=!0){const h=(e,t,l,a,s=!0)=>{let r=n(a-t,l-e);return s&&r<0&&(r+=2*v),r};let g={cx:0,cy:0,rx:a=e(a),ry:s=e(s),startAngle:0,endAngle:0,deltaAngle:0,clockwise:o,xAxisRotation:i=a===s?0:i<0&&p?i+360:i,largeArc:u,sweep:o};if(0==a||0==s)throw Error("rx and ry can not be 0");let x,m,A=a===s?0:i*w,b=A?f(A):0,C=A?r(A):1,k=(t-c)/2,N=(l-y)/2,M=(t+c)/2,S=(l+y)/2,E=A?C*k+b*N:k,T=A?C*N-b*k:N,q=E*E/(a*a)+T*T/(s*s);if(q>1){let e=d(q);a*=e,s*=e,g.rx=a,g.ry=s}let P=a*s,j=a*T,D=s*E,$=j**2+D**2;if(!$)throw Error("start point can not be same as end point");let z=d(e((P*P-$)/$));u===o&&(z=-z);let F=z*j/s,Q=-z*D/a;x=A?C*F-b*Q+M:M+F,m=A?b*F+C*Q+S:S+Q,g.cy=m,g.cx=x;let R=h(x,m,t,l,p),Z=h(x,m,c,y,p);o?Z<R&&(Z+=2*v):Z>R&&(Z-=2*v);let I=Z-R;return g.startAngle=R,g.startAngle_deg=R*L,g.endAngle=Z,g.endAngle_deg=Z*L,g.deltaAngle=I,g.deltaAngle_deg=I*L,g}function q(e,t,l,a,n,s=0,i=!0,u=!1){if(n=u?n*w:n,s=u?s*w:s,s=l!==a&&s!==2*v?s:0,i&&l!==a){let e=P(n=s?n-s:n);n=r(n)<0?e+v:e}let o=e+l*r(n),c=t+a*f(n),y={x:o,y:c};return s&&(y.x=e+(o-e)*r(s)-(c-t)*f(s),y.y=t+(o-e)*f(s)+(c-t)*r(s)),y}function P(e,t,l){if(t===l||e%v*.5==0)return e;let n=a(m(e)*(t/l));return n=r(e)<0?n+v:n,n}function j(e,t,l){let a=-e*f(l),s=t*r(l);return n(s,a)}function D(t,l=.001){let a=0;for(let e=0,l=t.length;l&&e<l;e++){let l=t[e].x,n=t[e===t.length-1?0:e+1];a+=l*n.y*.5-n.x*t[e].y*.5}return e(a)<l}function $(t,l=-1,a=1){let n,s,i,u,o,c,y,p,h=[];i=.5*(a+l),u=.5*(a-l);for(let l=(t+1>>1)-1;l>=0;l--){s=r(v*(l+.75)/(t+.5));do{p=1,y=0;for(let e=0;e<t;e++)c=y,y=p,p=((2*e+1)*s*y-e*c)/(e+1);o=t*(s*p-y)/(s*s-1),n=s,s=n-p/o}while(e(s-n)>1e-14);let a=2*u/((1-s*s)*o*o),g=i+u*s;h.push([a,-g],[a,g])}return h}function z(t,l,a,n,s=[]){let i=.5*(n-a),u=.5*(n+a),o=0;for(let e=0;e<s.length;e++){let[a,n]=s[e],c=u+i*n;o+=a*d(h(t*f(c),2)+h(l*r(c),2))}return e(i*o)}function F(e,t,l,a,n){return e*(e*(-3*t+9*l-9*a+3*n)+6*t-12*l+6*a)-3*t+3*l}function Q(e,t=1,l=0){let a;return a=4===e.length?((e,t,l,a,n=0,s)=>{if(0===n)return 0;let r=(n=n>1?1:n<0?0:n)/2,i=`wa${s}`;A[i]||(A[i]=$(s));const u=A[i];let o=0,c=e.x,y=e.y,p=t.x,h=t.y,g=l.x,x=l.y,f=a.x,m=a.y;for(let e=0,t=u.length;e<t;e++){let[t,l]=[u[e][0],u[e][1]],a=-r*l+r,n=F(a,c,p,g,f),s=F(a,y,h,x,m);o+=t*d(n**2+s**2)}return r*o})(e[0],e[1],e[2],e[3],t,l):3===e.length?((e,t,l,a,n=!1)=>{if(0===a)return 0;if(n){let a=M(e,t)+M(t,l),n=M(e,l);if(a===n)return n}let s,r,i,u,c,y,p,h,g;h=2*t.x,g=2*t.y,u=e.x-h+l.x,p=e.y-g+l.y,c=h-2*e.x,y=g-2*e.y,s=4*(u*u+p*p),r=4*(u*c+p*y),i=c*c+y*y;const x=r/(2*s),f=a+x,m=i/s-x**2;return d(s)/2*(f*d(f**2+m)-x*d(x**2+m)+m*o((f+d(f**2+m))/(x+d(x**2+m))))})(e[0],e[1],e[2],t):M(e[0],e[1]),a}function R(e,t=24){let l=function(e,t=48){if(!Array.isArray(e)||e.length<=t)return e;let l=e.length,a=l/t,n=[e[0]];for(let l=0;l<t;l++)n.push(e[u(l*a)]);let s=n.length;return n[s-1]!==e[l-1]&&(n[s-1]=e[l-1]),n}(e,t),{width:a,height:n}=function(e,t=-1){let l=e.map(e=>e.x),a=e.map(e=>e.y),n=p(...l),s=y(...l),r=p(...a),i=y(...a),u={x:n,left:n,right:s,y:r,top:r,bottom:i,width:s-n,height:i-r};if(t>-1)for(let e in u)u[e]=+u[e].toFixed(t);return u}(l),s=((a+n)/2)**2;var r,i;return(r=e[0],((i=e[e.length-1]).x-r.x)**2+(i.y-r.y)**2)<s}function Z(e,t){Array.isArray(e)&&(e={x:e[0],y:e[1]});let l={x:e.x+2/3*(t[0]-e.x),y:e.y+2/3*(t[1]-e.y)},a={x:t[2]+2/3*(t[0]-t[2]),y:t[3]+2/3*(t[1]-t[3])};return{type:"C",values:[l.x,l.y,a.x,a.y,t[2],t[3]]}}function I(e,t=!1,l=-1){l>=0&&(e[0].values=e[0].values.map(e=>+e.toFixed(l)));let a=e[0].values,n=a[0],s=a[1],r=n,i=s;for(let a=1,u=e.length;a<u;a++){let u=e[a],{type:o,values:c}=u,y=t?o.toLowerCase():o.toUpperCase();if(o!==y)switch(o=y,u.type=o,o){case"a":case"A":c[5]=t?c[5]-n:c[5]+n,c[6]=t?c[6]-s:c[6]+s;break;case"v":case"V":c[0]=t?c[0]-s:c[0]+s;break;case"h":case"H":c[0]=t?c[0]-n:c[0]+n;break;case"m":case"M":t?(c[0]-=n,c[1]-=s):(c[0]+=n,c[1]+=s),r=t?c[0]+n:c[0],i=t?c[1]+s:c[1];break;default:if(c.length)for(let e=0;e<c.length;e++)c[e]=t?c[e]-(e%2?s:n):c[e]+(e%2?s:n)}let p=c.length;switch(o){case"z":case"Z":n=r,s=i;break;case"h":case"H":n=t?n+c[0]:c[0];break;case"v":case"V":s=t?s+c[0]:c[0];break;case"m":case"M":r=c[p-2]+(t?n:0),i=c[p-1]+(t?s:0);default:n=c[p-2]+(t?n:0),s=c[p-1]+(t?s:0)}l>=0&&(u.values=u.values.map(e=>+e.toFixed(l)))}return e}function O(e,t=-1,l=!0){let a=!1;if(l){let t=e.map(e=>e.type).join(""),l=/[hstv]/gi.test(t);if(a=/[astvqmhlc]/g.test(t),!l)return e}e=l&&a?function(e,t=-1){return I(e,!1,t)}(e,t):e;let n=[],s={type:"M",values:e[0].values};n.push(s);for(let l=1,a=e.length;l<a;l++){let a,r,i,u,o,c,y,p,h=e[l],{type:g,values:x}=h,f=x.length,d=s.values,m=d.length,[v,A]=[x[f-2],x[f-1]],[b,w]=[d[m-2],d[m-1]];switch(g){case"H":s={type:"L",values:[x[0],w]};break;case"V":s={type:"L",values:[b,x[0]]};break;case"T":[a,r]=[d[0],d[1]],[b,w]=[d[m-2],d[m-1]],i=b+(b-a),u=w+(w-r),s={type:"Q",values:[i,u,v,A]};break;case"S":[a,r]=[d[0],d[1]],[b,w]=[d[m-2],d[m-1]],[y,p]=m>2&&"A"!==s.type?[d[2],d[3]]:[b,w],i=2*b-y,u=2*w-p,o=x[0],c=x[1],s={type:"C",values:[i,u,o,c,v,A]};break;default:s={type:g,values:x}}t>-1&&(s.values=s.values.map(e=>+e.toFixed(t))),n.push(s)}return n}function _(l,a,n=1){const s=2*v;let[i,u,o,c,y,p,h]=a;if(0===i||0===u)return[];let g=o?o*s/360:0,x=g?f(g):0,A=g?r(g):1,b=A*(l.x-p)/2+x*(l.y-h)/2,w=-x*(l.x-p)/2+A*(l.y-h)/2;if(0===b&&0===w)return[];i=e(i),u=e(u);let L=b*b/(i*i)+w*w/(u*u);if(L>1){let e=d(L);i*=e,u*=e}let C=i*i,k=i===u?C:u*u,N=b*b,M=w*w,S=C*k-C*M-k*N;S<=0?S=0:(S/=C*M+k*N,S=d(S)*(c===y?-1:1));let E=S?S*i/u*w:0,T=S?S*-u/i*b:0,q=A*E-x*T+(l.x+p)/2,P=x*E+A*T+(l.y+h)/2,j=(b-E)/i,D=(w-T)/u,$=(-b-E)/i,z=(-w-T)/u;const F=(e,l,a,n)=>{let s=+(e*a+l*n).toFixed(9);return 1===s||-1===s?1===s?0:v:(s=s>1?1:s<-1?-1:s,(e*n-l*a<0?-1:1)*t(s))};let Q=F(1,0,j,D),R=F(j,D,$,z);0===y&&R>0?R-=2*v:1===y&&R<0&&(R+=2*v);let Z=(+(e(R)/(s/4)).toFixed(0)||1)*n;R/=Z;let I=[];const O=1.5707963267948966,_=.551785;let V=R===O?_:R===-O?-_:4/3*m(R/4),G=R?r(R):1,J=R?f(R):0;const B=(e,t,l,a,n)=>{let s=e!=t?r(e):a,i=e!=t?f(e):n,u=r(e+t),o=f(e+t);return[{x:s-i*l,y:i+s*l},{x:u+o*l,y:o-u*l},{x:u,y:o}]};for(let e=0;e<Z;e++){let e={type:"C",values:[]};B(Q,R,V,G,J).forEach(t=>{let l=t.x*i,a=t.y*u;e.values.push(A*l-x*a+q,x*l+A*a+P)}),I.push(e),Q+=R}return I}function V(e=[],{toAbsolute:t=!0,toLonghands:l=!0,quadraticToCubic:a=!1,arcToCubic:n=!1,arcAccuracy:s=4}={},{hasRelatives:r=!0,hasShorthands:i=!0,hasQuadratics:u=!0,hasArcs:o=!0,testTypes:c=!1}={}){if(c){let t=Array.from(new Set(e.map(e=>e.type))).join("");r=/[lcqamts]/gi.test(t),u=/[qt]/gi.test(t),o=/[a]/gi.test(t),i=/[vhst]/gi.test(t),isPoly=/[mlz]/gi.test(t)}return(u&&a||o&&n)&&(l=!0,t=!0),r&&t&&(e=I(e,!1)),i&&l&&(e=O(e,-1,!1)),o&&n&&(e=function(e,{arcAccuracy:t=1}={}){let l=[e[0]];for(let a=1,n=e.length;a<n;a++){let n=e[a],s=e[a-1].values,r=s.length,i={x:s[r-2],y:s[r-1]};"A"===n.type?_(i,n.values,t).forEach(e=>{l.push(e)}):l.push(n)}return l}(e,s)),u&&a&&(e=function(e){let t=[e[0]];for(let l=1,a=e.length;l<a;l++){let a=e[l],n=e[l-1].values,s=n.length,r={x:n[s-2],y:n[s-1]};"Q"===a.type?t.push(Z(r,a.values)):t.push(a)}return t}(e)),e}function G(e,{toAbsolute:t=!0,toLonghands:l=!0,quadraticToCubic:a=!1,arcToCubic:n=!1,arcAccuracy:s=4}={}){let r=function(e,t=!0){e=e.trim();const l=new Set([5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279]),a=e=>32===e||44===e||10===e||13===e||8232===e||8233===e||9===e||11===e||12===e||160===e||e>=5760&&l.has(e);let n,s=0,r=e.length,i="",u=[],o=-1,c="",y=!1,p=0,h=0,g=0,x=!1,f=new Set([]),d=[];const m=()=>{x&&("M"===i?i="L":"m"===i&&(i="l"),u.push({type:i,values:[]}),o++,h=0,x=!1)},v=(e=!1)=>{(e?p>0:""!==c)&&(t&&-1===o&&(n="Pathdata must start with M command",d.push(n),i="M",u.push({type:i,values:[]}),g=2,h=0,o++),"A"===i||"a"===i?(c=A(),u[o].values.push(...c)):(t&&c[1]&&"."!==c[1]&&"0"===c[0]&&(n=`${o}. command: Leading zeros not valid: ${c}`,d.push(n)),u[o].values.push(+c)),h++,c="",p=0,x=h>=g)},A=()=>{let e=c.length,t=!1;return 3===h&&2===e||4===h&&e>1?(c=[+c[0],+c[1]],t=!0,h++):3===h&&e>=3&&(c=[+c[0],+c[1],+c.substring(2)],t=!0,h+=2),t?c:[+c]},b=()=>{if(o>0){let e=u[o].values.length;if(e&&e<g||e&&e>g||("z"===i||"Z"===i)&&e>0){n=`${o}. command of type "${i}": ${g-e} values too few - ${g} expected`,d[d.length-1]!==n&&d.push(n)}}};let w=!1,L=!1,C=!1;for(;s<r;){let l=e.charCodeAt(s),r=l>47&&l<58;if(r||(w=101===l||69===l,L=45===l||43===l,C=46===l),r||L||C||w){if(y||45!==l&&46!==l)m();else{let e=46===l;v(e),m(),e&&p++}c+=e[s],y=w,s++}else if((l<48||l>5759)&&a(l))v(),s++;else{if(l>64){if(!J.has(l)){n=`${o}. command "${e[s]}" is not a valid type`,d.push(n),s++;continue}""!==c&&(u[o].values.push(+c),h++,c=""),t&&b(),i=e[s],g=B[l];let a="M"===i||"m"===i,r=o>0&&("z"===u[o].type||"Z"===u[o].type);f.add(i),r&&!a&&(u.push({type:"m",values:[0,0]}),o++),u.push({type:i,values:[]}),o++,p=0,h=0,x=!1,s++;continue}r||(n=`${o}. ${e[s]} is not a valid separarator or token`,d.push(n),c=""),s++}}v(),t&&b();if(t&&d.length){if(n="Invalid path data:\n"+d.join("\n"),"log"!==t)throw new Error(n);console.log(n)}u[0].type="M";let k=Array.from(f).join(""),N=/[lcqamts]/g.test(k),M=/[vhst]/gi.test(k),S=/[a]/gi.test(k),E=/[qt]/gi.test(k);return{pathData:u,hasRelatives:N,hasShorthands:M,hasQuadratics:E,hasArcs:S}}(e),{hasRelatives:i,hasShorthands:u,hasQuadratics:o,hasArcs:c}=r,y=r.pathData;return y=V(y,{toAbsolute:t,toLonghands:l,quadraticToCubic:a,arcToCubic:n,arcAccuracy:s},{hasRelatives:i,hasShorthands:u,hasQuadratics:o,hasArcs:c}),y}const J=new Set([77,109,65,97,67,99,76,108,81,113,83,115,84,116,72,104,86,118,90,122]),B=new Uint8Array(128);function H(e){return e.map(e=>`${e.type} ${e.values.join(" ")}`).join(" ")}function W(e,t=!1){let l,a,n,s,r,i,u,o,c,y,p,g,x,f,m,v,A=[],b=e.nodeName;((e,t=9)=>{const l="svg"!==e.nodeName?e.closest("svg"):e,a=e=>{if(null===e)return 0;let l=e.match(/([a-z]+)/gi);l=l?l[0]:"";let a,n=parseFloat(e);if(!l)return n;switch(l){case"in":a=96;break;case"pt":a=1/72*96;break;case"cm":a=1/2.54*96;break;case"mm":a=1/2.54*96/10;break;case"em":case"rem":a=16;break;default:a=1}return+(n*a).toFixed(t)};let n=l.getAttribute("width");n=n?a(n):300;let s=l.getAttribute("height");s=n?a(s):150;let r=l.getAttribute("viewBox");r=r?r.replace(/,/g," ").split(" ").filter(Boolean).map(e=>+e):[];let i=r.length?r[2]:n,u=r.length?r[3]:s,o=i/100,c=u/100,y=d((h(o,2)+h(c,2))/2),p=["x","width","x1","x2","rx","cx","r"],g=["y","height","y1","y2","ry","cy"];e.getAttributeNames().forEach(t=>{let l=e.getAttribute(t),n=l;if(p.includes(t)||g.includes(t)){let s=p.includes(t)?o:c;s="r"===t&&i!=u?y:s;let r=l.match(/([a-z|%]+)/gi);r=r?r[0]:"",n=l.includes("%")?parseFloat(l)*s:a(l),e.setAttribute(t,+n)}})})(e);const w=t=>(l={},t.forEach(t=>{l[t]=+e.getAttribute(t)}),l);switch(b){case"path":n=e.getAttribute("d"),A=G(n);break;case"rect":a=["x","y","width","height","rx","ry"],({x:s,y:r,width:i,height:u,rx:c,ry:y}=w(a)),c||y?(c>i/2&&(c=i/2),y>u/2&&(y=u/2),A=[{type:"M",values:[s+c,r]},{type:"L",values:[s+i-c,r]},{type:"A",values:[c,y,0,0,1,s+i,r+y]},{type:"L",values:[s+i,r+u-y]},{type:"A",values:[c,y,0,0,1,s+i-c,r+u]},{type:"L",values:[s+c,r+u]},{type:"A",values:[c,y,0,0,1,s,r+u-y]},{type:"L",values:[s,r+y]},{type:"A",values:[c,y,0,0,1,s+c,r]},{type:"Z",values:[]}]):A=[{type:"M",values:[s,r]},{type:"L",values:[s+i,r]},{type:"L",values:[s+i,r+u]},{type:"L",values:[s,r+u]},{type:"Z",values:[]}];break;case"circle":case"ellipse":a=["cx","cy","rx","ry","r"],({cx:p,cy:g,r:o,rx:c,ry:y}=w(a)),"circle"===b?(c=o,y=o):(c=c||o,y=y||o),A=[{type:"M",values:[p+c,g]},{type:"A",values:[c,y,0,1,1,p-c,g]},{type:"A",values:[c,y,0,1,1,p+c,g]}];break;case"line":a=["x1","y1","x2","y2"],({x1:x,y1:m,x2:f,y2:v}=w(a)),A=[{type:"M",values:[x,m]},{type:"L",values:[f,v]}];break;case"polygon":case"polyline":let t=e.getAttribute("points").replaceAll(","," ").split(" ").filter(Boolean);for(let e=0;e<t.length;e+=2)A.push({type:0===e?"M":"L",values:[+t[e],+t[e+1]]});"polygon"===b&&A.push({type:"Z",values:[]})}return t?H(A):A}function U(e,{arcToCubic:t=!1,arcAccuracy:l=4,quadraticToCubic:a=!1}={},n=!1){let s={isValid:!1,dummyPath:"M40 10h20v50h-20zm0 60h20v20h-20z"};if(!e)return;let r=Array.isArray(e)&&e.length?"array":e?typeof e:null;if(e&&"string"===r){let t=e.includes("<svg")&&e.includes("</svg"),l=e.includes("totalLength")&&e.includes("segments"),a=!l&&(e.includes("{")&&e.includes('"x"')&&e.includes('"y"'));if(t&&(e=e.replace(/<\?xml[\s\S]*?\?>/gi,"").replace(/<!DOCTYPE[\s\S]*?>/gi,"").replace(/<!--[\s\S]*?-->/g,"").trim()),!t&&(l||a))try{let t=JSON.parse(e);l?e=t.pathData:a&&(e=t),r="array"}catch{throw Error("No valid JSON")}}let i=[],u={arcToCubic:t,arcAccuracy:l,quadraticToCubic:a},o=!0;if("object"===r&&e.nodeName){let t=["path","polygon","polyline","line","circle","ellipse","rect"];if("svg"===e.nodeName){e.querySelectorAll(`${t.join(", ")}`).forEach(e=>{i.push(...W(e))})}else e.closest("svg")&&t.includes(e.nodeName)&&(r="element",i=W(e));i.length&&(e=i,r="array")}if(!r)return null;const c=e=>{let t=[{type:"M",values:[e[0],e[1]]}];for(let l=3,a=e.length;l<a;l+=2){let[a,n]=[e[l-1],e[l]];t.push({type:"L",values:[a,n]})}return t};if("array"===r){if(!!e[0].type){"object"==typeof e[0]&&"object"!=typeof e[0].constructor&&(e=(e=>{let t=[],l="M";return e.forEach(e=>{let{type:a,values:n}=e;"z"===l.toLocaleLowerCase()&&"m"!==a.toLocaleLowerCase()&&t.push({type:"m",values:[0,0]}),t.push({type:a,values:n}),l=a}),t})(e)),i=e}else{if(Array.isArray(e[0])){let t=!("object"!=typeof e[0][0]||!e[0][0].x||isNaN(e[0][0].x)),l=2===e[0][0].length&&!isNaN(e[0][0][0]);if(t||l)for(let l=0,a=e.length;l<a;l++){let a=e[l];for(let e=0,l=a.length;e<l;e++){let l=a[e],n=0===e?"M":"L",s=t?[l.x,l.y]:[l[0],l[1]];i.push({type:n,values:s})}}else{if(2===e[0].length&&!isNaN(e[0][0])){i=[{type:"M",values:[e[0][0],e[0][1]]}];for(let t=1,l=e.length;t<l;t++){let l=e[t];i.push({type:"L",values:[l[0],l[1]]})}}}}else{let t=!isNaN(e[0]);if(e[0].hasOwnProperty("x")&&e[0].hasOwnProperty("y")){i=[{type:"M",values:[e[0].x,e[0].y]}];for(let t=1,l=e.length;t<l;t++){let l=e[t];i.push({type:"L",values:[l.x,l.y]})}R(e)&&i.push({type:"Z",values:[]})}else t&&(i=c(e))}}}else{if((e=e.trim()).startsWith("<svg")){let t=["path","polygon","polyline","line","rect","circle","ellipse"],l=(new DOMParser).parseFromString(e,"text/html").querySelector("svg").querySelectorAll(`${t.join(", ")}`);for(let e=0,t=l.length;e<t;e++){let t=l[e];if(t.closest("defs")||t.closest("symbol")||t.closest("pattern")||t.closest("mask")||t.closest("clipPath"))continue;let a=t.closest("g");if(a){if("none"===a.getAttribute("display")||"none"===a.style.display)continue}let n=W(t);i.push(...n)}}else{let t=e.startsWith("M")||e.startsWith("m"),l=/[lcqamtsvhs]/gi.test(e);if(t)i=G(e,u),o=!1;else{if(!isNaN(e.trim()[0])&&!l)try{e=e.split(/,| /).map(Number),i=c(e);let t=(e=>{let t=[{x:e[0],y:e[1]}];for(let l=3,a=e.length;l<a;l+=2){let[a,n]=[e[l-1],e[l]];t.push({x:a,y:n})}return t})(e);R(t)&&i.push({type:"Z",values:[]}),o=!1}catch{console.warn("not a valid poly string")}}}}return i.length?n?(s.isValid=!0,s):(o&&(i=V(i,u)),i):(console.warn("No valid input  - could not create lookup"),n?(i=G(s.dummyPath),s):[])}function Y(e={}){Object.assign(this,e)}function K(e,t="medium",l=!1,a=!0,{arcToCubic:n=!1,arcAccuracy:s=2,quadraticToCubic:r=!1}={}){return X(e,t,l,a,{arcToCubic:n,arcAccuracy:s,quadraticToCubic:r})}function X(e,t="medium",l=!1,a=!0,{arcToCubic:n=!1,arcAccuracy:s=2,quadraticToCubic:r=!1}={}){if(e&&"string"==typeof e&&e.includes("totalLength")&&e.includes("segments"))try{return new Y(JSON.parse(e))}catch{throw Error("No valid JSON")}if(!e)throw Error("No path data defined");n&&"high"===t&&(s=4);let i=U(e,{arcToCubic:n,arcAccuracy:s,quadraticToCubic:r});if(!i.length)throw Error("No valid path data to parse");let u=te(i,t,l,a);return u.pathData=i,l?u.pathLength:new Y(u)}function ee(e,t="medium",l=!0){return function(e,t="medium",l=!0){return te(e,t,l)}(U(e),t,l)}function te(t,l="medium",a=!1,n=!0){a&&(n=!1);let s="high"===l,r="medium"===l?24:12,i=[12,24,36,48,60,64,72],u=`wa${r}`;A[u]||(A[u]=$(r));let o=A[u],c="low"===l?10:12,h="low"===l?15:"medium"===l?23:35,g=h,x=t.length,f=0,d=t[0],m={totalLength:0,segments:[]},L={x:d.values[0],y:d.values[0]},C=0,N=0;for(let l=1;l<x;l++){let u=t[l-1].values,x=u.length;L={x:u[x-2],y:u[x-1]};let M,S,q,j=t[l],{type:F,values:R}=j,Z=R.length,I={x:R[Z-2],y:R[Z-1]},O=0,_=1,V={type:F,index:l,segIndex:N,com:{type:F,values:R,p0:L},lengths:[],points:[],angles:[],total:0};switch(F){case"M":d=t[l],O=0;break;case"Z":case"z":case"L":"z"===F.toLowerCase()&&(I={x:d.values[0],y:d.values[1]},V.type="L"),O=Q([L,I]),V.points.push(L,I),n&&(q=k(L,I),V.angles.push(q));break;case"A":I={x:j.values[5],y:j.values[6]};let[u,x]=[j.values[3],j.values[4]],m=T(L.x,L.y,j.values[0],j.values[1],j.values[2],u,x,I.x,I.y,!1),{cx:N,cy:Z,rx:G,ry:J,startAngle:B,endAngle:H,deltaAngle:W,xAxisRotation:U}=m;C=U?x?b:-b:x?0:-v,C=U<0?-1*C:C,m.tangentAdjust=C,m.isEllipse=G!==J,V.arcData=m;let Y=W;if(G!==J){U*=w;let e=`wa${r}`;A[e]||(A[e]=$(r)),A.wa48||(A.wa48=$(48)),o=A[e];let t=A.wa48;B=P(B-U,G,J),H=P(H-U,G,J),Y=H-B,W=W>0&&Y<0||W<0&&Y>0?W:Y,x&&B>H&&(H+=2*v),!x&&B<H&&(H-=2*v);let l=0;V.lengths.push(f),V.angles.push(B);for(let e=1;e<h;e++){let t=B+W/h*e;l=z(G,J,B,t,o),O+=l,V.lengths.push(l+f),V.angles.push(t)}V.angles.push(H),O=z(G,J,B,H,t),V.arcData_param={cx:N,cy:Z,rx:G,ry:J,deltaAngle:W,deltaAngle_param:Y,startAngle:B,endAngle:H,largeArc:u,sweep:x,xAxisRotation:U,tangentAdjust:C,isEllipse:G!==J}}else if(O=2*v*G*(1/360*e(180*W/v)),n){let e=W<0?B-v:B,t=W<0?H-v:H;V.angles=[e+b,t+b]}V.points=[L,I];break;case"C":case"Q":M={x:R[0],y:R[1]},S="C"===F?{x:R[2],y:R[3]}:M;let K="C"===F?[L,M,S,I]:[L,M,I];g="Q"===F?c:h,V.lengths.push(f);let X=D(K),ee=!1;if(X){let e=p(L.y,I.y),t=p(L.x,I.x),l=y(L.x,I.x),a=y(L.y,I.y);(M.y<e||M.y>a||S.y<e||S.y>a||M.x<t||M.x>l||S.x<t&&S.x>l)&&(ee=!0,X=!1)}if(ee&&"Q"===F){let e={x:L.x+2/3*(M.x-L.x),y:L.y+2/3*(M.y-L.y)};S={x:I.x+2/3*(M.x-I.x),y:I.y+2/3*(M.y-I.y)},M=e,F="C",V.type="C",K=[L,M,S,I]}if(X){K=[L,I],O=Q(K),V.type="L",V.points.push(L,I),n&&(q=k(L,I),V.angles.push(q));break}if(O=Q(K,1,s?i[0]:r),"C"===F&&s){let t,l=!1,a=.001,n=0;for(let s=1;s<i.length&&!l;s++){t=Q(K,1,i[s]),n=e(t-O),n<a||s===i.length-1?(r=i[s-1],l=!0):O=t}}if(!a&&!X){if(n){let e=E(K,0,!0).angle;V.angles.push(e,E(K,1,!0).angle)}for(let e=1;e<g;e++)_=1/g*e,V.lengths.push(Q(K,_,r)+f);V.points=K}break;default:O=0}a||(V.lengths.push(O+f),V.total=O),f+=O,"M"!==F&&(m.segments.push(V),N++),m.totalLength=f,"Z"===F&&(V.com.values=[I.x,I.y])}return m}function le(t,l=0,a=!0,n=!0,s=-1){let{segments:i,pathData:u,totalLength:o}=t;i[0].angles.length||(n=!1);let c=n,y=i[0],p=i[i.length-1],h=y.points[0],g=y.angles[0];g=g<0?g+2*v:g;let x=0,d=!1,m={x:h.x,y:h.y};s>-1&&(m=C(m));let A,w,k,M,S=0;if(a&&(m.angle=g,"A"===y.type)){let{arcData:e}=y;({rx:w,ry:k,xAxisRotation:M,tangentAdjust:S}=e.isEllipse?y.arcData_param:e),w!==k&&(A=N(j(w,k,g)-M+S),m.angle=A)}if(n&&(m.index=i[0].index,m.segIndex=0,m.com=i[0].com),0===l)return m;if(l>=o){let e=p.points[p.points.length-1],t=p.angles[p.angles.length-1];if(m.x=e.x,m.y=e.y,a&&(m.angle=t,"A"===p.type)){let{arcData:e}=p;({rx:w,ry:k,xAxisRotation:M,tangentAdjust:S}=e.isEllipse?p.arcData_param:e),w!==k&&(A=N(j(w,k,t)-M+S),m.angle=A)}return n&&(m.index=u.length-1,m.segIndex=i.length-1,m.com=i[i.length-1].com),s>-1&&(m=C(m)),m}for(let t=0;t<i.length&&!d;t++){let s=i[t],{type:u,lengths:o,points:y,total:p,angles:h,com:g}=s,w=o[o.length-1],C=1/(o.length-1);if(w>=l){d=!0;let t,i=!1;switch(u){case"L":t=w-l,x=1-1/p*t,m=E(y,x,a,c),m.type="L",a&&(m.angle=h[0]);break;case"A":t=w-l;let{arcData:u}=s,{rx:d,ry:k,cx:M,cy:S,startAngle:T,endAngle:P,deltaAngle:D,xAxisRotation:$,tangentAdjust:z,sweep:F}=u.isEllipse?s.arcData_param:u,Q=s.points[1],R=$*L;if(d!==k)for(let t=1;t<o.length&&!i;t++){let a=o[t];if(l<a){i=!0;let s=1/(a-o[t-1])*(a-l)||1,r=h[t-1],u=h[t],c=(r-u)*s+u;if(m=q(M,S,d,k,c,$,!1,!1),A=N(j(d,k,c)-$+z),m.angle=A,n){let t=e(c-T),l=e(P-c),a=t>=v?1:0,n=l>=v?1:0;m.commands=[{type:"A",values:[d,k,R,a,F,m.x,m.y]},{type:"A",values:[d,k,R,n,F,Q.x,Q.y]}]}}else l===a&&(m=Q,A=N(j(d,k,P)-$+z),m.angle=A,i=!0)}else{x=1-1/p*t;let l=-D*x,i=r(l),u=f(l),o=s.points[0];if(m={x:i*(o.x-M)+u*(o.y-S)+M,y:i*(o.y-S)-u*(o.x-M)+S},a){let e=D>0?b:-b;m.angle=N(T+D*x+e)}if(n){let t=e(D*x),l=e(D-t),a=e(D-l),n=l>=v?1:0,s=a>=v?1:0;m.commands=[{type:"A",values:[d,k,R,n,F,m.x,m.y]},{type:"A",values:[d,k,R,s,F,Q.x,Q.y]}]}}break;case"C":case"Q":for(let e=0;e<o.length&&!i;e++){let t=o[e];if(a&&(m.angle=h[0]),0===e)m.x=g.p0.x,m.y=g.p0.y;else if(t===l)m.x=y[y.length-1].x,m.y=y[y.length-1].y;else if(t>l&&e>0){i=!0,x=C*e-C*(1/(t-(e>0?o[e-1]:o[e]))*(t-l)||0)||0,m=E(y,x,a,c)}}}m.t=x}n&&(m.index=s.index,m.segIndex=s.segIndex,m.com=s.com)}return m}B[77]=2,B[109]=2,B[65]=7,B[97]=7,B[67]=6,B[99]=6,B[76]=2,B[108]=2,B[81]=4,B[113]=4,B[83]=4,B[115]=4,B[84]=2,B[116]=2,B[72]=1,B[104]=1,B[86]=1,B[118]=1,B[90]=0,B[122]=0,SVGGeometryElement.prototype.getPathLookup=function(e="medium",t=!1,l=!0){return X(this,e,t,l)},SVGGeometryElement.prototype.getPathLengthLookup=function(e="medium",t=!1,l=!0){return X(this,e,t,l)},Y.prototype.getPointAtLength=function(e=0,t=!1,l=!1,a=-1){return le(this,e,t,l,a)},Y.prototype.getSegmentAtLength=function(e=0){return function(e,t=0,l=-1){let a=e.segments,n=le(e,t,!0,!0,l),{com:s,t:r,index:i,segIndex:u,angle:o,x:c,y:y}=n,p={type:"M",values:[s.p0.x,s.p0.y]};if("z"===s.type.toLowerCase()){let{points:e}=a[u],t=e[e.length-1];s={type:"L",values:[t.x,t.y]}}let h=[p,s];return{angle:o,com:s,index:i,pathData:h,d:H(h),t:r,x:c,y:y}}(this,e)},"undefined"!=typeof window&&(window.getPathLengthLookup=X,window.getPathLookup=K,window.getPathLength=ee,window.normalizePathInput=U,window.getPathDataFromEl=W,window.stringifyPathData=H);export{v as PI,e as abs,t as acos,l as asin,a as atan,n as atan2,s as ceil,r as cos,i as exp,u as floor,W as getPathDataFromEl,ee as getPathLength,X as getPathLengthLookup,K as getPathLookup,c as hypot,o as log,y as max,p as min,U as normalizePathInput,h as pow,g as random,x as round,f as sin,d as sqrt,H as stringifyPathData,m as tan};
