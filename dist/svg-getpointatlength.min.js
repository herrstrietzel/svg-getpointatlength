!function(e){"use strict";const{abs:t,acos:a,asin:l,atan:n,atan2:r,ceil:s,cos:o,exp:i,floor:u,log:h,hypot:p,max:y,min:c,pow:g,random:x,round:f,sin:d,sqrt:v,tan:m,PI:A}=Math,b={},w=.5*A,L=.017453292519943295,D=57.29577951308232;function P(e={},t=3){return{x:+e.x.toFixed(t),y:+e.y.toFixed(t)}}function k(e,t,a=!1){let l=r(t.y-e.y,t.x-e.x);return a&&l<0&&(l+=2*A),l}function C(e){let t=2*A;return(e%=t)<0?e+t:e}function T(e,a){return e.y===a.y?t(a.x-e.x):e.x===a.x?t(a.y-e.y):v((a.x-e.x)**2+(a.y-e.y)**2)}function E(e,t,a,l=!1){let n={x:(t.x-e.x)*a+e.x,y:(t.y-e.y)*a+e.y};return l&&(n.angle=k(e,t),n.angle<0&&(n.angle+=2*A)),n}function M(e,t=.5,a=!1,l=!1){let n;if(e.length>2)n=((e,t,a=!1)=>{let n=4===e.length,r=e[0],s=e[1],o=n?e[2]:e[1],i=e[e.length-1],u={x:0,y:0};if(a||l){let e,a,h,p,y,c=r.x===s.x&&r.y===s.y,g=i.x===o.x&&i.y===o.y;0!==t||c?1!==t||g?(c&&(t+=1e-7),g&&(t-=1e-7),e=E(r,s,t),n?(a=E(s,o,t),h=E(o,i,t),p=E(e,a,t),y=E(a,h,t),u=E(p,y,t),u.angle=k(p,y),l&&(u.commands=[{type:"C",values:[e.x,e.y,p.x,p.y,u.x,u.y]},{type:"C",values:[y.x,y.y,h.x,h.y,i.x,i.y]}],u.segments=[{p0:r,cp1:e,cp2:p,p:u},{p0:u,cp1:y,cp2:h,p:i}])):(a=E(r,s,t),h=E(s,i,t),u=E(a,h,t),u.angle=k(a,h),l&&(u.commands=[{type:"Q",values:[a.x,a.y,u.x,u.y]},{type:"Q",values:[h.x,h.y,i.x,i.y]}],u.segments=[{p0:r,cp1:a,p:u},{p0:u,cp1:h,p:i}]))):(u.x=i.x,u.y=i.y,u.angle=k(o,i)):(u.x=r.x,u.y=r.y,u.angle=k(r,s))}else{let e=1-t;u=n?{x:e**3*r.x+3*e**2*t*s.x+3*e*t**2*o.x+t**3*i.x,y:e**3*r.y+3*e**2*t*s.y+3*e*t**2*o.y+t**3*i.y}:{x:e*e*r.x+2*e*t*s.x+t**2*i.x,y:e*e*r.y+2*e*t*s.y+t**2*i.y}}return u})(e,t,a);else{let r=e[0],s=e[1];n=E(r,s,t,a),l&&(n.commands=[{type:"L",values:[n.x,n.y]},{type:"L",values:[s.x,s.y]}],n.segments=[{p0:r,p:n},{p0:n,p:s}])}return a&&n.angle<0&&(n.angle+=2*A),n}function N(e,a,l,n,s,i,u,h,p,y=!0){const c=(e,t,a,l,n=!0)=>{let s=r(l-t,a-e);return n&&s<0&&(s+=2*A),s};let g={cx:0,cy:0,rx:l=t(l),ry:n=t(n),startAngle:0,endAngle:0,deltaAngle:0,clockwise:u,xAxisRotation:s=l===n?0:s<0&&y?s+360:s,largeArc:i,sweep:u};if(0==l||0==n)throw Error("rx and ry can not be 0");let x,f,m=l===n?0:s*L,b=m?d(m):0,w=m?o(m):1,P=(e-h)/2,k=(a-p)/2,C=(e+h)/2,T=(a+p)/2,E=m?w*P+b*k:P,M=m?w*k-b*P:k,N=E*E/(l*l)+M*M/(n*n);if(N>1){let e=v(N);l*=e,n*=e,g.rx=l,g.ry=n}let z=l*n,_=l*M,j=n*E,q=_**2+j**2;if(!q)throw Error("start point can not be same as end point");let S=v(t((z*z-q)/q));i===u&&(S=-S);let $=S*_/n,F=-S*j/l;x=m?w*$-b*F+C:C+$,f=m?b*$+w*F+T:T+F,g.cy=f,g.cx=x;let O=c(x,f,e,a,y),R=c(x,f,h,p,y);u?R<O&&(R+=2*A):R>O&&(R-=2*A);let Q=R-O;return g.startAngle=O,g.startAngle_deg=O*D,g.endAngle=R,g.endAngle_deg=R*D,g.deltaAngle=Q,g.deltaAngle_deg=Q*D,g}function z(e,t,a,l,n,r=0,s=!0,i=!1){if(n=i?n*L:n,r=i?r*L:r,r=a!==l&&r!==2*A?r:0,s&&a!==l){let e=_(n=r?n-r:n);n=o(n)<0?e+A:e}let u=e+a*o(n),h=t+l*d(n),p={x:u,y:h};return r&&(p.x=e+(u-e)*o(r)-(h-t)*d(r),p.y=t+(u-e)*d(r)+(h-t)*o(r)),p}function _(e,t,a){if(t===a||e%A*.5==0)return e;let l=n(m(e)*(t/a));return l=o(e)<0?l+A:l,l}function j(e,t,a){let l=-e*d(a),n=t*o(a);return r(n,l)}function q(e=[]){let a=[],l=function(e=[]){let t=e.length,a=4===t,l=e[0],n=e[1],r=a?e[2]:n,s=a?e[3]:e[2],o=c(l.y,s.y),i=c(l.x,s.x),u=y(l.x,s.x),h=y(l.y,s.y),p=!1;(n.y<o||n.y>h||r.y<o||r.y>h||n.x<i||n.x>u||r.x<i||r.x>u)&&(p=!0);return p}(e);return l?(function(e){let a=4===e.length?function(e,a,l,n){let[r,s,o,i,u,h,p,g]=[e.x,e.y,a.x,a.y,l.x,l.y,n.x,n.y],x=c(e.y,n.y),f=c(e.x,n.x),d=y(e.x,n.x),m=y(e.y,n.y);if(a.y>=x&&a.y<=m&&l.y>=x&&l.y<=m&&a.x>=f&&a.x<=d&&l.x>=f&&l.x<=d)return[];for(var A,b,w,L,D,P,k,C,T=[],E=0;E<2;++E)if(0==E?(b=6*r-12*o+6*u,A=-3*r+9*o-9*u+3*p,w=3*o-3*r):(b=6*s-12*i+6*h,A=-3*s+9*i-9*h+3*g,w=3*i-3*s),t(A)<1e-12){if(t(b)<1e-12)continue;0<(L=-w/b)&&L<1&&T.push(L)}else(k=b*b-4*w*A)<0?t(k)<1e-12&&0<(L=-b/(2*A))&&L<1&&T.push(L):(0<(D=(-b+(C=v(k)))/(2*A))&&D<1&&T.push(D),0<(P=(-b-C)/(2*A))&&P<1&&T.push(P));var M=T.length;for(;M--;)L=T[M];return T}(e[0],e[1],e[2],e[3]):function(e,a,l){let n,r,s,o=c(e.y,l.y),i=c(e.x,l.x),u=y(e.x,l.x),h=y(e.y,l.y);if(a.y>=o&&a.y<=h&&a.x>=i&&a.x<=u)return[];let[p,g,x,f,d,v]=[e.x,e.y,a.x,a.y,l.x,l.y],m=[];for(var A=0;A<2;++A)n=0==A?p-2*x+d:g-2*f+v,r=0==A?-2*p+2*x:-2*g+2*f,t(n)>1e-12&&(s=-r/(2*n),s>0&&s<1&&m.push(s));return m}(e[0],e[1],e[2]);return a}(e).forEach(t=>{let l=M(e,t);a.push(l)}),a):a}function S(e,a,l={}){let{rx:n,ry:s,cx:i,cy:u,xAxisRotation:h,startAngle:p,endAngle:g,deltaAngle:x,sweep:f,deltaAngle_param:v}=l,b=[];if(n===s){let l=0===t(p%w),r=!!l&&0===t(g%w);if(l&&r){if(!!(0===t(x%w))&&0===t(x%A)){let t=e.x===a.x,l=f?n:-n;if(e.y===a.y){l=e.x<a.x?-l:l,b=[{x:i,y:u+l}]}if(t){l=e.y<a.y?l:-l,b=[{x:i+l,y:u}]}return b}}}x=g-p;const L=(e,t,a,l,n,r)=>{let s=r?o(r):1,i=r?d(r):0,u=l*o(e),h=n*d(e);return{x:t+s*u-i*h,y:a+i*u+s*h}};let D,P,k,C,T,E=m(h);T=r(-s*E,n);let M=T,N=T+A,z=r(s,n*E),_=z+A,j=[e.x,a.x],q=[e.y,a.y],S=c(...j),$=y(...j),F=c(...q),O=y(...q),R=L(g-.999*x,i,u,n,s,h),Q=L(g-.001*x,i,u,n,s,h);return(R.x>$||Q.x>$)&&(D=L(M,i,u,n,s,h),b.push(D)),(R.x<S||Q.x<S)&&(P=L(N,i,u,n,s,h),b.push(P)),(R.y<F||Q.y<F)&&(C=L(_,i,u,n,s,h),b.push(C)),(R.y>O||Q.y>O)&&(k=L(z,i,u,n,s,h),b.push(k)),b}function $(e,a=.001){let l=0;for(let t=0,a=e.length;a&&t<a;t++){let a=e[t].x,n=e[t===e.length-1?0:t+1];l+=a*n.y*.5-n.x*e[t].y*.5}return t(l)<a}function F(e,a=-1,l=1){let n,r,s,i,u,h,p,y,c=[];s=.5*(l+a),i=.5*(l-a);for(let a=(e+1>>1)-1;a>=0;a--){r=o(A*(a+.75)/(e+.5));do{y=1,p=0;for(let t=0;t<e;t++)h=p,p=y,y=((2*t+1)*r*p-t*h)/(t+1);u=e*(r*y-p)/(r*r-1),n=r,r=n-y/u}while(t(r-n)>1e-14);let l=2*i/((1-r*r)*u*u),g=s+i*r;c.push([l,-g],[l,g])}return c}function O(e,a,l,n,r=[]){let s=.5*(n-l),i=.5*(n+l),u=0;for(let t=0;t<r.length;t++){let[l,n]=r[t],h=i+s*n;u+=l*v(g(e*d(h),2)+g(a*o(h),2))}return t(s*u)}function R(e,t,a,l,n){return e*(e*(-3*t+9*a-9*l+3*n)+6*t-12*a+6*l)-3*t+3*a}function Q(e,t=1,a=0){let l;return l=4===e.length?((e,t,a,l,n=0,r)=>{if(0===n)return 0;let s=(n=n>1?1:n<0?0:n)/2,o=`wa${r}`;b[o]||(b[o]=F(r));const i=b[o];let u=0,h=e.x,p=e.y,y=t.x,c=t.y,g=a.x,x=a.y,f=l.x,d=l.y;for(let e=0,t=i.length;e<t;e++){let[t,a]=[i[e][0],i[e][1]],l=-s*a+s,n=R(l,h,y,g,f),r=R(l,p,c,x,d);u+=t*v(n**2+r**2)}return s*u})(e[0],e[1],e[2],e[3],t,a):3===e.length?((e,t,a,l,n=!1)=>{if(0===l)return 0;if(n){let l=T(e,t)+T(t,a),n=T(e,a);if(l===n)return n}let r,s,o,i,u,p,y,c,g;c=2*t.x,g=2*t.y,i=e.x-c+a.x,y=e.y-g+a.y,u=c-2*e.x,p=g-2*e.y,r=4*(i*i+y*y),s=4*(i*u+y*p),o=u*u+p*p;const x=s/(2*r),f=l+x,d=o/r-x**2;return v(r)/2*(f*v(f**2+d)-x*v(x**2+d)+d*h((f+v(f**2+d))/(x+v(x**2+d))))})(e[0],e[1],e[2],t):T(e[0],e[1]),l}function Z(e){let t=[];try{e.map((e,t)=>"m"===e.type.toLowerCase()?t:-1).filter(e=>-1!==e)}catch{console.log("catch",e)}let a=e.map((e,t)=>"m"===e.type.toLowerCase()?t:-1).filter(e=>-1!==e);if(1===a.length)return[e];a.forEach((l,n)=>{t.push(e.slice(l,a[n+1]))});let l=0;return t.forEach((e,a)=>{e.forEach((e,n)=>{t[a][n].index=l,l++})}),t}function I(e,t=24){let a=function(e,t=48){if(!Array.isArray(e)||e.length<=t)return e;let a=e.length,l=a/t,n=[e[0]];for(let a=0;a<t;a++)n.push(e[u(a*l)]);let r=n.length;return n[r-1]!==e[a-1]&&(n[r-1]=e[a-1]),n}(e,t),{width:l,height:n}=V(a),r=((l+n)/2)**2;var s,o;return(s=e[0],((o=e[e.length-1]).x-s.x)**2+(o.y-s.y)**2)<r}function V(e,t=-1){let a=e.map(e=>e.x),l=e.map(e=>e.y),n=c(...a),r=y(...a),s=c(...l),o=y(...l),i={x:n,left:n,right:r,y:s,top:s,bottom:o,width:r-n,height:o-s};if(t>-1)for(let e in i)i[e]=+i[e].toFixed(t);return i}function B(e){let t=[];return e.forEach(e=>{let a=function(e){let t=function(e){let t=[];for(let a=0;a<e.length;a++){let l=e[a],n=a>0?e[a-1]:e[a],{type:r,values:s}=l,o={x:n.values[n.values.length-2],y:n.values[n.values.length-1]},i=s.length?{x:s[s.length-2],y:s[s.length-1]}:"",u=s.length?{x:s[0],y:s[1]}:"";switch(r){case"A":let[e,a,l,n,r,h,p]=s;if(!(e!==a)){let e=i.x-o.x,a=i.y-o.y,l=o.x+e/2,n=o.y+a/2,s=0===a,u=0===e;if(s&&!u||!s&&u){let o=s?.5*e:.5*a;o=r?o:-o;let i=s?{x:l,y:n-o}:{x:l-o,y:n};t.push(i)}}break;case"C":let y={x:s[2],y:s[3]};t.push(u,y);break;case"Q":t.push(u)}"z"!==r.toLowerCase()&&t.push(i)}return t}(e),a=V(t);return a}(e);t.push(a)}),t}function U(e,t){let[a,l,n,r,s,o]=[e.x,e.y,e.width,e.height,e.x+e.width,e.y+e.height],[i,u,h,p,y,c]=[t.x,t.y,t.width,t.height,t.x+t.width,t.y+t.height],g=!1;return n*r!=h*p&&n*r>h*p&&a<i&&s>y&&l<u&&o>c&&(g=!0),g}function G(e,a,l,n,r=0){let s=e!==a;s||(r=0),s&&(l=_(l-r,e,a),n=_(n-r,e,a));let o=A*e*a,i=n-l,u=t(i)<.5*A,h=2*A,p=(i+h)%h;if(!s){return o*(t(i)/h)}return i=!r||r<0&&u?t(i):i,p=(i+h)%h,o*(p/h)}function J(e){let t,[a,l,n,r]=[e[0],e[1],e[2],e[e.length-1]];return e.length<3?0:(3===e.length&&(l={x:1*e[0].x/3+2*e[1].x/3,y:1*e[0].y/3+2*e[1].y/3},n={x:1*e[2].x/3+2*e[1].x/3,y:1*e[2].y/3+2*e[1].y/3}),t=3*(a.x*(-2*l.y-n.y+3*r.y)+l.x*(2*a.y-n.y-r.y)+n.x*(a.y+l.y-2*r.y)+r.x*(-3*a.y+l.y+2*n.y))/20,-t)}function H(e,t=.001){let a=0;for(let t=0,l=e.length;l&&t<l;t++){a+=e[t].x*e[t===e.length-1?0:t+1].y*.5-e[t===e.length-1?0:t+1].x*e[t].y*.5}return a}function W(e,t){Array.isArray(e)&&(e={x:e[0],y:e[1]});let a={x:e.x+2/3*(t[0]-e.x),y:e.y+2/3*(t[1]-e.y)},l={x:t[2]+2/3*(t[0]-t[2]),y:t[3]+2/3*(t[1]-t[3])};return{type:"C",values:[a.x,a.y,l.x,l.y,t[2],t[3]]}}function Y(e,t=!1,a=-1){a>=0&&(e[0].values=e[0].values.map(e=>+e.toFixed(a)));let l=e[0].values,n=l[0],r=l[1],s=n,o=r;for(let l=1,i=e.length;l<i;l++){let i=e[l],{type:u,values:h}=i,p=t?u.toLowerCase():u.toUpperCase();if(u!==p)switch(u=p,i.type=u,u){case"a":case"A":h[5]=t?h[5]-n:h[5]+n,h[6]=t?h[6]-r:h[6]+r;break;case"v":case"V":h[0]=t?h[0]-r:h[0]+r;break;case"h":case"H":h[0]=t?h[0]-n:h[0]+n;break;case"m":case"M":t?(h[0]-=n,h[1]-=r):(h[0]+=n,h[1]+=r),s=t?h[0]+n:h[0],o=t?h[1]+r:h[1];break;default:if(h.length)for(let e=0;e<h.length;e++)h[e]=t?h[e]-(e%2?r:n):h[e]+(e%2?r:n)}let y=h.length;switch(u){case"z":case"Z":n=s,r=o;break;case"h":case"H":n=t?n+h[0]:h[0];break;case"v":case"V":r=t?r+h[0]:h[0];break;case"m":case"M":s=h[y-2]+(t?n:0),o=h[y-1]+(t?r:0);default:n=h[y-2]+(t?n:0),r=h[y-1]+(t?r:0)}a>=0&&(i.values=i.values.map(e=>+e.toFixed(a)))}return e}function K(e,t=-1,a=!0){let l=!1;if(a){let t=e.map(e=>e.type).join(""),a=/[hstv]/gi.test(t);if(l=/[astvqmhlc]/g.test(t),!a)return e}e=a&&l?function(e,t=-1){return Y(e,!1,t)}(e,t):e;let n=[],r={type:"M",values:e[0].values};n.push(r);for(let a=1,l=e.length;a<l;a++){let l,s,o,i,u,h,p,y,c=e[a],{type:g,values:x}=c,f=x.length,d=r.values,v=d.length,[m,A]=[x[f-2],x[f-1]],[b,w]=[d[v-2],d[v-1]];switch(g){case"H":r={type:"L",values:[x[0],w]};break;case"V":r={type:"L",values:[b,x[0]]};break;case"T":[l,s]=[d[0],d[1]],[b,w]=[d[v-2],d[v-1]],o=b+(b-l),i=w+(w-s),r={type:"Q",values:[o,i,m,A]};break;case"S":[l,s]=[d[0],d[1]],[b,w]=[d[v-2],d[v-1]],[p,y]=v>2&&"A"!==r.type?[d[2],d[3]]:[b,w],o=2*b-p,i=2*w-y,u=x[0],h=x[1],r={type:"C",values:[o,i,u,h,m,A]};break;default:r={type:g,values:x}}t>-1&&(r.values=r.values.map(e=>+e.toFixed(t))),n.push(r)}return n}function X(e,l,n=1){const r=2*A;let[s,i,u,h,p,y,c]=l;if(0===s||0===i)return[];let g=u?u*r/360:0,x=g?d(g):0,f=g?o(g):1,b=f*(e.x-y)/2+x*(e.y-c)/2,w=-x*(e.x-y)/2+f*(e.y-c)/2;if(0===b&&0===w)return[];s=t(s),i=t(i);let L=b*b/(s*s)+w*w/(i*i);if(L>1){let e=v(L);s*=e,i*=e}let D=s*s,P=s===i?D:i*i,k=b*b,C=w*w,T=D*P-D*C-P*k;T<=0?T=0:(T/=D*C+P*k,T=v(T)*(h===p?-1:1));let E=T?T*s/i*w:0,M=T?T*-i/s*b:0,N=f*E-x*M+(e.x+y)/2,z=x*E+f*M+(e.y+c)/2,_=(b-E)/s,j=(w-M)/i,q=(-b-E)/s,S=(-w-M)/i;const $=(e,t,l,n)=>{let r=+(e*l+t*n).toFixed(9);return 1===r||-1===r?1===r?0:A:(r=r>1?1:r<-1?-1:r,(e*n-t*l<0?-1:1)*a(r))};let F=$(1,0,_,j),O=$(_,j,q,S);0===p&&O>0?O-=2*A:1===p&&O<0&&(O+=2*A);let R=(+(t(O)/(r/4)).toFixed(0)||1)*n;O/=R;let Q=[];const Z=1.5707963267948966,I=.551785;let V=O===Z?I:O===-Z?-I:4/3*m(O/4),B=O?o(O):1,U=O?d(O):0;const G=(e,t,a,l,n)=>{let r=e!=t?o(e):l,s=e!=t?d(e):n,i=o(e+t),u=d(e+t);return[{x:r-s*a,y:s+r*a},{x:i+u*a,y:u-i*a},{x:i,y:u}]};for(let e=0;e<R;e++){let e={type:"C",values:[]};G(F,O,V,B,U).forEach(t=>{let a=t.x*s,l=t.y*i;e.values.push(f*a-x*l+N,x*a+f*l+z)}),Q.push(e),F+=O}return Q}function ee(e=[],{toAbsolute:t=!0,toLonghands:a=!0,quadraticToCubic:l=!1,arcToCubic:n=!1,arcAccuracy:r=4}={},{hasRelatives:s=!0,hasShorthands:o=!0,hasQuadratics:i=!0,hasArcs:u=!0,testTypes:h=!1}={}){if(h){let t=Array.from(new Set(e.map(e=>e.type))).join("");s=/[lcqamts]/gi.test(t),i=/[qt]/gi.test(t),u=/[a]/gi.test(t),o=/[vhst]/gi.test(t),isPoly=/[mlz]/gi.test(t)}return(i&&l||u&&n)&&(a=!0,t=!0),s&&t&&(e=Y(e,!1)),o&&a&&(e=K(e,-1,!1)),u&&n&&(e=function(e,{arcAccuracy:t=1}={}){let a=[e[0]];for(let l=1,n=e.length;l<n;l++){let n=e[l],r=e[l-1].values,s=r.length,o={x:r[s-2],y:r[s-1]};"A"===n.type?X(o,n.values,t).forEach(e=>{a.push(e)}):a.push(n)}return a}(e,r)),i&&l&&(e=function(e){let t=[e[0]];for(let a=1,l=e.length;a<l;a++){let l=e[a],n=e[a-1].values,r=n.length,s={x:n[r-2],y:n[r-1]};"Q"===l.type?t.push(W(s,l.values)):t.push(l)}return t}(e)),e}function te(e,{toAbsolute:t=!0,toLonghands:a=!0,quadraticToCubic:l=!1,arcToCubic:n=!1,arcAccuracy:r=4}={}){let s=ne(e),{hasRelatives:o,hasShorthands:i,hasQuadratics:u,hasArcs:h}=s,p=s.pathData;return p=ee(p,{toAbsolute:t,toLonghands:a,quadraticToCubic:l,arcToCubic:n,arcAccuracy:r},{hasRelatives:o,hasShorthands:i,hasQuadratics:u,hasArcs:h}),p}const ae=new Set([77,109,65,97,67,99,76,108,81,113,83,115,84,116,72,104,86,118,90,122]),le=new Uint8Array(128);function ne(e,t=!0){e=e.trim();const a=new Set([5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279]),l=e=>32===e||44===e||10===e||13===e||8232===e||8233===e||9===e||11===e||12===e||160===e||e>=5760&&a.has(e);let n,r=0,s=e.length,o="",i=[],u=-1,h="",p=!1,y=0,c=0,g=0,x=!1,f=new Set([]),d=[];const v=()=>{x&&("M"===o?o="L":"m"===o&&(o="l"),i.push({type:o,values:[]}),u++,c=0,x=!1)},m=(e=!1)=>{(e?y>0:""!==h)&&(t&&-1===u&&(n="Pathdata must start with M command",d.push(n),o="M",i.push({type:o,values:[]}),g=2,c=0,u++),"A"===o||"a"===o?(h=A(),i[u].values.push(...h)):(t&&h[1]&&"."!==h[1]&&"0"===h[0]&&(n=`${u}. command: Leading zeros not valid: ${h}`,d.push(n)),i[u].values.push(+h)),c++,h="",y=0,x=c>=g)},A=()=>{let e=h.length,t=!1;return 3===c&&2===e||4===c&&e>1?(h=[+h[0],+h[1]],t=!0,c++):3===c&&e>=3&&(h=[+h[0],+h[1],+h.substring(2)],t=!0,c+=2),t?h:[+h]},b=()=>{if(u>0){let e=i[u].values.length;if(e&&e<g||e&&e>g||("z"===o||"Z"===o)&&e>0){n=`${u}. command of type "${o}": ${g-e} values too few - ${g} expected`,d[d.length-1]!==n&&d.push(n)}}};let w=!1,L=!1,D=!1;for(;r<s;){let a=e.charCodeAt(r),s=a>47&&a<58;if(s||(w=101===a||69===a,L=45===a||43===a,D=46===a),s||L||D||w){if(p||45!==a&&46!==a)v();else{let e=46===a;m(e),v(),e&&y++}h+=e[r],p=w,r++}else if((a<48||a>5759)&&l(a))m(),r++;else{if(a>64){if(!ae.has(a)){n=`${u}. command "${e[r]}" is not a valid type`,d.push(n),r++;continue}""!==h&&(i[u].values.push(+h),c++,h=""),t&&b(),o=e[r],g=le[a];let l="M"===o||"m"===o,s=u>0&&("z"===i[u].type||"Z"===i[u].type);f.add(o),s&&!l&&(i.push({type:"m",values:[0,0]}),u++),i.push({type:o,values:[]}),u++,y=0,c=0,x=!1,r++;continue}s||(n=`${u}. ${e[r]} is not a valid separarator or token`,d.push(n),h=""),r++}}if(m(),t&&b(),t&&d.length){if(n="Invalid path data:\n"+d.join("\n"),"log"!==t)throw new Error(n);console.log(n)}i[0].type="M";let P=Array.from(f).join(""),k=/[lcqamts]/g.test(P),C=/[vhst]/gi.test(P),T=/[a]/gi.test(P),E=/[qt]/gi.test(P);return{pathData:i,hasRelatives:k,hasShorthands:C,hasQuadratics:E,hasArcs:T}}function re(e){return e.map(e=>`${e.type} ${e.values.join(" ")}`).join(" ")}function se(e,t=!1){let a,l,n,r,s,o,i,u,h,p,y,c,x,f,d,m,A=[],b=e.nodeName;((e,t=9)=>{const a="svg"!==e.nodeName?e.closest("svg"):e,l=e=>{if(null===e)return 0;let a=e.match(/([a-z]+)/gi);a=a?a[0]:"";let l,n=parseFloat(e);if(!a)return n;switch(a){case"in":l=96;break;case"pt":l=1/72*96;break;case"cm":l=1/2.54*96;break;case"mm":l=1/2.54*96/10;break;case"em":case"rem":l=16;break;default:l=1}return+(n*l).toFixed(t)};let n=a.getAttribute("width");n=n?l(n):300;let r=a.getAttribute("height");r=n?l(r):150;let s=a.getAttribute("viewBox");s=s?s.replace(/,/g," ").split(" ").filter(Boolean).map(e=>+e):[];let o=s.length?s[2]:n,i=s.length?s[3]:r,u=o/100,h=i/100,p=v((g(u,2)+g(h,2))/2),y=["x","width","x1","x2","rx","cx","r"],c=["y","height","y1","y2","ry","cy"];e.getAttributeNames().forEach(t=>{let a=e.getAttribute(t),n=a;if(y.includes(t)||c.includes(t)){let r=y.includes(t)?u:h;r="r"===t&&o!=i?p:r;let s=a.match(/([a-z|%]+)/gi);s=s?s[0]:"",n=a.includes("%")?parseFloat(a)*r:l(a),e.setAttribute(t,+n)}})})(e);const w=t=>(a={},t.forEach(t=>{a[t]=+e.getAttribute(t)}),a);switch(b){case"path":n=e.getAttribute("d"),A=te(n);break;case"rect":l=["x","y","width","height","rx","ry"],({x:r,y:s,width:o,height:i,rx:h,ry:p}=w(l)),h||p?(h>o/2&&(h=o/2),p>i/2&&(p=i/2),A=[{type:"M",values:[r+h,s]},{type:"L",values:[r+o-h,s]},{type:"A",values:[h,p,0,0,1,r+o,s+p]},{type:"L",values:[r+o,s+i-p]},{type:"A",values:[h,p,0,0,1,r+o-h,s+i]},{type:"L",values:[r+h,s+i]},{type:"A",values:[h,p,0,0,1,r,s+i-p]},{type:"L",values:[r,s+p]},{type:"A",values:[h,p,0,0,1,r+h,s]},{type:"Z",values:[]}]):A=[{type:"M",values:[r,s]},{type:"L",values:[r+o,s]},{type:"L",values:[r+o,s+i]},{type:"L",values:[r,s+i]},{type:"Z",values:[]}];break;case"circle":case"ellipse":l=["cx","cy","rx","ry","r"],({cx:y,cy:c,r:u,rx:h,ry:p}=w(l)),"circle"===b?(h=u,p=u):(h=h||u,p=p||u),A=[{type:"M",values:[y+h,c]},{type:"A",values:[h,p,0,1,1,y-h,c]},{type:"A",values:[h,p,0,1,1,y+h,c]}];break;case"line":l=["x1","y1","x2","y2"],({x1:x,y1:d,x2:f,y2:m}=w(l)),A=[{type:"M",values:[x,d]},{type:"L",values:[f,m]}];break;case"polygon":case"polyline":let t=e.getAttribute("points").replaceAll(","," ").split(" ").filter(Boolean);for(let e=0;e<t.length;e+=2)A.push({type:0===e?"M":"L",values:[+t[e],+t[e+1]]});"polygon"===b&&A.push({type:"Z",values:[]})}return t?re(A):A}function oe(e,{arcToCubic:t=!1,arcAccuracy:a=4,quadraticToCubic:l=!1}={},n=!1){let r={isValid:!1,dummyPath:"M40 10h20v50h-20zm0 60h20v20h-20z"};if(!e)return;let s=Array.isArray(e)&&e.length?"array":e?typeof e:null;if(e&&"string"===s){let t=e.includes("<svg")&&e.includes("</svg"),a=e.includes("totalLength")&&e.includes("segments"),l=!a&&(e.includes("{")&&e.includes('"x"')&&e.includes('"y"'));if(t&&(e=e.replace(/<\?xml[\s\S]*?\?>/gi,"").replace(/<!DOCTYPE[\s\S]*?>/gi,"").replace(/<!--[\s\S]*?-->/g,"").trim()),!t&&(a||l))try{let t=JSON.parse(e);a?e=t.pathData:l&&(e=t),s="array"}catch{throw Error("No valid JSON")}}let o=[],i={arcToCubic:t,arcAccuracy:a,quadraticToCubic:l},u=!0;if("object"===s&&e.nodeName){let t=["path","polygon","polyline","line","circle","ellipse","rect"];if("svg"===e.nodeName){e.querySelectorAll(`${t.join(", ")}`).forEach(e=>{o.push(...se(e))})}else e.closest("svg")&&t.includes(e.nodeName)&&(s="element",o=se(e));o.length&&(e=o,s="array")}if(!s)return null;const h=e=>{let t=[{type:"M",values:[e[0],e[1]]}];for(let a=3,l=e.length;a<l;a+=2){let[l,n]=[e[a-1],e[a]];t.push({type:"L",values:[l,n]})}return t};if("array"===s){if(!!e[0].type){"object"==typeof e[0]&&"object"!=typeof e[0].constructor&&(e=(e=>{let t=[],a="M";return e.forEach(e=>{let{type:l,values:n}=e;"z"===a.toLocaleLowerCase()&&"m"!==l.toLocaleLowerCase()&&t.push({type:"m",values:[0,0]}),t.push({type:l,values:n}),a=l}),t})(e)),o=e}else{if(Array.isArray(e[0])){let t=!("object"!=typeof e[0][0]||!e[0][0].x||isNaN(e[0][0].x)),a=2===e[0][0].length&&!isNaN(e[0][0][0]);if(t||a)for(let a=0,l=e.length;a<l;a++){let l=e[a];for(let e=0,a=l.length;e<a;e++){let a=l[e],n=0===e?"M":"L",r=t?[a.x,a.y]:[a[0],a[1]];o.push({type:n,values:r})}}else{if(2===e[0].length&&!isNaN(e[0][0])){o=[{type:"M",values:[e[0][0],e[0][1]]}];for(let t=1,a=e.length;t<a;t++){let a=e[t];o.push({type:"L",values:[a[0],a[1]]})}}}}else{let t=!isNaN(e[0]);if(e[0].hasOwnProperty("x")&&e[0].hasOwnProperty("y")){o=[{type:"M",values:[e[0].x,e[0].y]}];for(let t=1,a=e.length;t<a;t++){let a=e[t];o.push({type:"L",values:[a.x,a.y]})}I(e)&&o.push({type:"Z",values:[]})}else t&&(o=h(e))}}}else{if((e=e.trim()).startsWith("<svg")){let t=["path","polygon","polyline","line","rect","circle","ellipse"],a=(new DOMParser).parseFromString(e,"text/html").querySelector("svg").querySelectorAll(`${t.join(", ")}`);for(let e=0,t=a.length;e<t;e++){let t=a[e];if(t.closest("defs")||t.closest("symbol")||t.closest("pattern")||t.closest("mask")||t.closest("clipPath"))continue;let l=t.closest("g");if(l){if("none"===l.getAttribute("display")||"none"===l.style.display)continue}let n=se(t);o.push(...n)}}else{let t=e.startsWith("M")||e.startsWith("m"),a=/[lcqamtsvhs]/gi.test(e);if(t)o=te(e,i),u=!1;else{if(!isNaN(e.trim()[0])&&!a)try{e=e.split(/,| /).map(Number),o=h(e);let t=(e=>{let t=[{x:e[0],y:e[1]}];for(let a=3,l=e.length;a<l;a+=2){let[l,n]=[e[a-1],e[a]];t.push({x:l,y:n})}return t})(e);I(t)&&o.push({type:"Z",values:[]}),u=!1}catch{console.warn("not a valid poly string")}}}}return o.length?n?(r.isValid=!0,r):(u&&(o=ee(o,i)),o):(console.warn("No valid input  - could not create lookup"),n?(o=te(r.dummyPath),r):[])}function ie(e={}){Object.assign(this,e)}function ue(e,t="medium",a=!1,l=!0,{arcToCubic:n=!1,arcAccuracy:r=2,quadraticToCubic:s=!1}={}){return he(e,t,a,l,{arcToCubic:n,arcAccuracy:r,quadraticToCubic:s})}function he(e,t="medium",a=!1,l=!0,{arcToCubic:n=!1,arcAccuracy:r=2,quadraticToCubic:s=!1}={}){if(e&&"string"==typeof e&&e.includes("totalLength")&&e.includes("segments"))try{return new ie(JSON.parse(e))}catch{throw Error("No valid JSON")}if(!e)throw Error("No path data defined");n&&"high"===t&&(r=4);let o=oe(e,{arcToCubic:n,arcAccuracy:r,quadraticToCubic:s});if(!o.length)throw Error("No valid path data to parse");let i=ge(o,t,a,l);return i.pathData=o,a?i.pathLength:new ie(i)}function pe(e,t="medium",a=!0){return ce(oe(e),t,a)}function ye(e,t="medium",a=!0){return ce(oe(e),t,a)}function ce(e,t="medium",a=!0){return ge(e,t,a)}function ge(e,a="medium",l=!1,n=!0){l&&(n=!1);let r="high"===a,s="medium"===a?24:12,o=[12,24,36,48,60,64,72],i=`wa${s}`;b[i]||(b[i]=F(s));let u=b[i],h="low"===a?10:12,p="low"===a?15:"medium"===a?23:35,g=p,x=e.length,f=0,d=e[0],v={totalLength:0,segments:[]},m={x:d.values[0],y:d.values[0]},D=0,P=0;for(let a=1;a<x;a++){let i=e[a-1].values,x=i.length;m={x:i[x-2],y:i[x-1]};let C,T,E,z=e[a],{type:j,values:q}=z,S=q.length,R={x:q[S-2],y:q[S-1]},Z=0,I=1,V={type:j,index:a,segIndex:P,com:{type:j,values:q,p0:m},lengths:[],points:[],angles:[],total:0};switch(j){case"M":d=e[a],Z=0;break;case"Z":case"z":case"L":"z"===j.toLowerCase()&&(R={x:d.values[0],y:d.values[1]},V.type="L"),Z=Q([m,R]),V.points.push(m,R),n&&(E=k(m,R),V.angles.push(E));break;case"A":R={x:z.values[5],y:z.values[6]};let[i,x]=[z.values[3],z.values[4]],v=N(m.x,m.y,z.values[0],z.values[1],z.values[2],i,x,R.x,R.y,!1),{cx:P,cy:S,rx:B,ry:U,startAngle:G,endAngle:J,deltaAngle:H,xAxisRotation:W}=v;D=W?x?w:-w:x?0:-A,D=W<0?-1*D:D,v.tangentAdjust=D,v.isEllipse=B!==U,V.arcData=v;let Y=H;if(B!==U){W*=L;let e=`wa${s}`;b[e]||(b[e]=F(s)),b.wa48||(b.wa48=F(48)),u=b[e];let t=b.wa48;G=_(G-W,B,U),J=_(J-W,B,U),Y=J-G,H=H>0&&Y<0||H<0&&Y>0?H:Y,x&&G>J&&(J+=2*A),!x&&G<J&&(J-=2*A);let a=0;V.lengths.push(f),V.angles.push(G);for(let e=1;e<p;e++){let t=G+H/p*e;a=O(B,U,G,t,u),Z+=a,V.lengths.push(a+f),V.angles.push(t)}V.angles.push(J),Z=O(B,U,G,J,t),V.arcData_param={cx:P,cy:S,rx:B,ry:U,deltaAngle:H,deltaAngle_param:Y,startAngle:G,endAngle:J,largeArc:i,sweep:x,xAxisRotation:W,tangentAdjust:D,isEllipse:B!==U}}else if(Z=2*A*B*(1/360*t(180*H/A)),n){let e=H<0?G-A:G,t=H<0?J-A:J;V.angles=[e+w,t+w]}V.points=[m,R];break;case"C":case"Q":C={x:q[0],y:q[1]},T="C"===j?{x:q[2],y:q[3]}:C;let K="C"===j?[m,C,T,R]:[m,C,R];g="Q"===j?h:p,V.lengths.push(f);let X=$(K),ee=!1;if(X){let e=c(m.y,R.y),t=c(m.x,R.x),a=y(m.x,R.x),l=y(m.y,R.y);(C.y<e||C.y>l||T.y<e||T.y>l||C.x<t||C.x>a||T.x<t&&T.x>a)&&(ee=!0,X=!1)}if(ee&&"Q"===j){let e={x:m.x+2/3*(C.x-m.x),y:m.y+2/3*(C.y-m.y)};T={x:R.x+2/3*(C.x-R.x),y:R.y+2/3*(C.y-R.y)},C=e,j="C",V.type="C",K=[m,C,T,R]}if(X){K=[m,R],Z=Q(K),V.type="L",V.points.push(m,R),n&&(E=k(m,R),V.angles.push(E));break}if(Z=Q(K,1,r?o[0]:s),"C"===j&&r){let e,a=!1,l=.001,n=0;for(let r=1;r<o.length&&!a;r++){e=Q(K,1,o[r]),n=t(e-Z),n<l||r===o.length-1?(s=o[r-1],a=!0):Z=e}}if(!l&&!X){if(n){let e=M(K,0,!0).angle;V.angles.push(e,M(K,1,!0).angle)}for(let e=1;e<g;e++)I=1/g*e,V.lengths.push(Q(K,I,s)+f);V.points=K}break;default:Z=0}l||(V.lengths.push(Z+f),V.total=Z),f+=Z,"M"!==j&&(v.segments.push(V),P++),v.totalLength=f,"Z"===j&&(V.com.values=[R.x,R.y])}return v}function xe(e,a=0,l=!0,n=!0,r=-1){let{segments:s,pathData:i,totalLength:u}=e;s[0].angles.length||(n=!1);let h=n,p=s[0],y=s[s.length-1],c=p.points[0],g=p.angles[0];g=g<0?g+2*A:g;let x=0,f=!1,v={x:c.x,y:c.y};r>-1&&(v=P(v));let m,b,L,k,T=0;if(l&&(v.angle=g,"A"===p.type)){let{arcData:e}=p;({rx:b,ry:L,xAxisRotation:k,tangentAdjust:T}=e.isEllipse?p.arcData_param:e),b!==L&&(m=C(j(b,L,g)-k+T),v.angle=m)}if(n&&(v.index=s[0].index,v.segIndex=0,v.com=s[0].com),0===a)return v;if(a>=u){let e=y.points[y.points.length-1],t=y.angles[y.angles.length-1];if(v.x=e.x,v.y=e.y,l&&(v.angle=t,"A"===y.type)){let{arcData:e}=y;({rx:b,ry:L,xAxisRotation:k,tangentAdjust:T}=e.isEllipse?y.arcData_param:e),b!==L&&(m=C(j(b,L,t)-k+T),v.angle=m)}return n&&(v.index=i.length-1,v.segIndex=s.length-1,v.com=s[s.length-1].com),r>-1&&(v=P(v)),v}for(let e=0;e<s.length&&!f;e++){let r=s[e],{type:i,lengths:u,points:p,total:y,angles:c,com:g}=r,b=u[u.length-1],L=1/(u.length-1);if(b>=a){f=!0;let e,s=!1;switch(i){case"L":e=b-a,x=1-1/y*e,v=M(p,x,l,h),v.type="L",l&&(v.angle=c[0]);break;case"A":e=b-a;let{arcData:i}=r,{rx:f,ry:P,cx:k,cy:T,startAngle:E,endAngle:N,deltaAngle:_,xAxisRotation:q,tangentAdjust:S,sweep:$}=i.isEllipse?r.arcData_param:i,F=r.points[1],O=q*D;if(f!==P)for(let e=1;e<u.length&&!s;e++){let l=u[e];if(a<l){s=!0;let r=1/(l-u[e-1])*(l-a)||1,o=c[e-1],i=c[e],h=(o-i)*r+i;if(v=z(k,T,f,P,h,q,!1,!1),m=C(j(f,P,h)-q+S),v.angle=m,n){let e=t(h-E),a=t(N-h),l=e>=A?1:0,n=a>=A?1:0;v.commands=[{type:"A",values:[f,P,O,l,$,v.x,v.y]},{type:"A",values:[f,P,O,n,$,F.x,F.y]}]}}else a===l&&(v=F,m=C(j(f,P,N)-q+S),v.angle=m,s=!0)}else{x=1-1/y*e;let a=-_*x,s=o(a),i=d(a),u=r.points[0];if(v={x:s*(u.x-k)+i*(u.y-T)+k,y:s*(u.y-T)-i*(u.x-k)+T},l){let e=_>0?w:-w;v.angle=C(E+_*x+e)}if(n){let e=t(_*x),a=t(_-e),l=t(_-a),n=a>=A?1:0,r=l>=A?1:0;v.commands=[{type:"A",values:[f,P,O,n,$,v.x,v.y]},{type:"A",values:[f,P,O,r,$,F.x,F.y]}]}}break;case"C":case"Q":for(let e=0;e<u.length&&!s;e++){let t=u[e];if(l&&(v.angle=c[0]),0===e)v.x=g.p0.x,v.y=g.p0.y;else if(t===a)v.x=p[p.length-1].x,v.y=p[p.length-1].y;else if(t>a&&e>0){s=!0,x=L*e-L*(1/(t-(e>0?u[e-1]:u[e]))*(t-a)||0)||0,v=M(p,x,l,h)}}}v.t=x}n&&(v.index=r.index,v.segIndex=r.segIndex,v.com=r.com)}return v}function fe(e,t=9){let{segments:a}=e;if(e.hasOwnProperty("extremes")&&e.segments[0].hasOwnProperty("extremes"))return e.extremes;let l=[a[0].com.p0],n=1===a.length;for(let n=0,r=a.length;n<r;n++){let r=a[n],{type:s,points:o,com:i}=r,{p0:u,values:h}=i,p=o[o.length-1],y=[u];switch(s){case"M":continue;case"A":let{arcData:e}=r;S(u,p,e.isEllipse?r.arcData_param:e).forEach(e=>{l.push(e),y.push(e)});break;case"C":case"Q":let t=q(o);t.length&&(y.push(...t),l.push(...t))}y.push(p),l.push(p),e.segments[n].extremes=y,e.segments[n].bbox=V(y,t)}let r=a[0].bbox;return n||(r=V(l,t)),e.bbox=r,e.extremes=l,l}function de(e){let{pathData:t,segments:a}=e;if(e.hasOwnProperty("area"))return e.area;let l=0,n=[],r=Z(t),s=r.length>1,o=[];if(s){let e=B(r);e.forEach(function(t,a){for(let l=0;l<e.length;l++){let n=e[l];a!==l&&(U(t,n)&&o.push(l))}})}let i=[];return r.forEach((e,t)=>{n=[];let r=0,s=0,u=1,h=[];for(let t=0,l=e.length;t<l;t++){let l=e[t],{type:s,values:o}=l,i=l.hasOwnProperty("index")?l.index:t,u=a.find(e=>e.index===i)||null;if(!u)continue;let{segIndex:p}=u,y=o.length;if(o.length){let l=(t>0?e[t-1]:e[0]).values,i=l.length,c={x:l[i-2],y:l[i-1]},g={x:o[y-2],y:o[y-1]};if("C"===s||"Q"===s){let e={x:o[0],y:o[1]};h="C"===s?[c,e,{x:o[2],y:o[3]},g]:[c,e,g];let t=J(h);r+=t,u.area=t,n.push(c,g)}else if("A"===s){let{cx:e,cy:t,rx:l,ry:s,sweep:o,startAngle:i,endAngle:h,xAxisRotation:y}=u.arcData,x=G(l,s,i,h,y*L);x*=o?1:-1,x+=H([c,{x:e,y:t},g]),a[p].area=x,n.push(c,g),r+=x}else n.push(c,g)}}if(s=r+H(n),o.includes(t)){let e=i[i.length-1];u=e<0&&s>0||e>0&&s<0?1:-1}s*=u,l+=s,i.push(s)}),e.area=l,l}function ve(e,{keepCorners:t=!0,keepLines:a=!0,vertices:l=16,threshold:n=1,decimals:r=3}={}){de(e);let{pathData:o,segments:i,totalLength:u}=e,h=u/l,p=o.filter(e=>"M"===e.type).map(e=>e.index),y=p.length,c=y>1,g=[[]],x=0,f=c?p[1]:1/0,d=[],v=[o],m=!1;y&&(v=Z(o));let A=Array.from(new Set(o.map(e=>e.type))).join(""),b=!/[acsqt]/gi.test(A);if(v.forEach((e,a)=>{let l=function(e){let t=e.length;if("Z"==e[t-1].type)return!0;let a=e[0],[l,n]=[a.values[0],a.values[1]].map(e=>+e.toFixed(8)),r=e[t-1],s=r.values.length,[o,i]=[r.values[s-2],r.values[s-1]].map(e=>+e.toFixed(8));return!(l!==o||n!==i)}(e);if(l&&d.push(a),t&&b){let t=function(e,t=-1){let a=[],l={x:e[0].values[0],y:e[0].values[1]};return e.forEach(e=>{let{type:n,values:r}=e;if(r.length){let e=r.length>1?{x:r[r.length-2],y:r[r.length-1]}:"V"===n?{x:l.x,y:r[0]}:{x:r[0],y:l.y};t>-1&&(e=P(e)),a.push(e),l=e}}),a}(e,r);t.length&&(g[a]=t,l&&g[a].push(t[0]))}}),g=g.filter(Boolean),t&&b&&(m=!0,console.log("done - only polys",g)),!m&&!t){let t=g[x];for(let a=0;a<l;a++){let l=h*a,n=e.getPointAtLength(l,!1,!0,r),{x:s,y:o}=n,{index:i}=n;c&&x<y-1&&i>f&&(g.push([]),x++,f=p[x+1]),t=g[x],t.push({x:s,y:o})}let a=e.segments,n=a[a.length-1],s=n.points[n.points.length-1];t=g[x],t.push(s)}if(!m&&t){let t=g[0],l=0;for(let n=0,u=o.length;n<u;n++){let p=o[n],{type:c,values:f,index:d}=p;if("M"===c){n>0&&x<y-1&&(x++,g.push([]),t=g[x]);continue}let v=p.hasOwnProperty("index")?d:n,m=i.find(e=>e.index===v)||null;if(m){t=g[x];let{total:o,points:i}=m,p=i[0],y=i[i.length-1];t.push(p);let f=s(o/h),d=o/f;if(!a||"L"!==c){let a=0;for(let n=1;n<f;n++){a=l+d*n;let s=e.getPointAtLength(a,!1,!0,r);s={x:s.x,y:s.y},t.push(s)}}l+=o,n===u-1&&t.push(y)}}console.log(g,x)}let w="",L="",D=1===g.length?g[0]:g;g.forEach((e,t)=>{r>-1&&(e=e.map(e=>({x:+e.x.toFixed(r),y:+e.y.toFixed(r)})));let a=`${e.map(e=>`${e.x} ${e.y}`).join(" ")} `;L+=a,w+=`M ${a}`,d.includes(t)&&(w+="Z ")});let k={poly:D,d:w,points:L};return console.log("outputData",k),k}le[77]=2,le[109]=2,le[65]=7,le[97]=7,le[67]=6,le[99]=6,le[76]=2,le[108]=2,le[81]=4,le[113]=4,le[83]=4,le[115]=4,le[84]=2,le[116]=2,le[72]=1,le[104]=1,le[86]=1,le[118]=1,le[90]=0,le[122]=0,function(){if("undefined"==typeof Path2D)try{const{Path2D:e}=require("canvas");global.Path2D=e,console.log("[Path2D_svg] Using Path2D from 'canvas'")}catch(e){console.warn("[Path2D_svg] No Path2D found. Using stub (no rendering)."),global.Path2D=class{constructor(){}moveTo(){}lineTo(){}bezierCurveTo(){}quadraticCurveTo(){}arc(){}arcTo(){}ellipse(){}rect(){}roundRect(){}closePath(){}addPath(){}}}}();class me extends Path2D{constructor(e){if(super(e),this.pathData=[],e instanceof me)this.pathData=[...e.pathData];else if("string"==typeof e)if("function"!=typeof parsePathDataNormalized)console.warn("parsePathDataNormalized is not defined");else{const t=parsePathDataNormalized(e);this.pathData.push(...t)}}_record(e,l){let n,r,s=2*A;switch(e){case"moveTo":n="M",r=l;break;case"lineTo":n="L",r=l;break;case"bezierCurveTo":n="C",r=l;break;case"quadraticCurveTo":n="Q",r=l;break;case"closePath":n="Z",r=[];break;case"rect":{const[e,t,a,n]=l;return void this.pathData.push({type:"M",values:[e,t]},{type:"L",values:[e+a,t]},{type:"L",values:[e+a,t+n]},{type:"L",values:[e,t+n]},{type:"Z",values:[]})}case"arc":case"ellipse":{let[a,n,r]=l,[o,i,u]=l.slice(-3),h="ellipse"===e,p=h?l[4]:0,y=h?l[3]:r,c=i-o;c=0===c||c>=s?s:c,u&&c>0&&(c-=s),!u&&c<0&&(c+=s);let g=t(c)>=2*A||0===c,x=z(a,n,r,y,o,p,!1),f=z(a,n,r,y,i,p,!1);this._currentPoint?this.pathData.push({type:"L",values:[x.x,x.y]}):this.pathData.push({type:"M",values:[x.x,x.y]});let d=p?180*p/A:0,v=c>A?1:0,m=u?0:1,b=f;if(g){b=z(a,n,r,y,C(o+A),p,!1)}let w=g?2:1;for(let e=0;e<w;e++)b=g&&0==e?b:f,this.pathData.push({type:"A",values:[r,y,d,v,m,b.x,b.y]});return void(this._currentPoint=[f.x,f.y])}case"arcTo":{let[e,t,n,r,s]=l,[o,i]=this._currentPoint||[e,t],u={x:o-e,y:i-t},h={x:n-e,y:r-t},g=p(u.x,u.y),x=p(h.x,h.y);if(0===g||0===x||0===s)return void this.pathData.push({type:"L",values:[e,t]});u.x/=g,u.y/=g,h.x/=x,h.y/=x;let f=u.x*h.x+u.y*h.y;f=c(y(f,-1),1);let d=a(f);if(0===d)return void this.pathData.push({type:"L",values:[e,t]});let v=s/m(d/2),A={x:e+u.x*v,y:t+u.y*v},b={x:e+h.x*v,y:t+h.y*v},w=u.x*h.y-u.y*h.x<0?1:0,L=0;return this.pathData.push({type:"L",values:[A.x,A.y]}),void this.pathData.push({type:"A",values:[s,s,0,L,w,b.x,b.y]})}case"roundRect":{let[e,t,a,n,r]=l;Array.isArray(r)||(r=[r,r,r,r]),2===r.length&&(r=[r[0],r[1],r[0],r[1]]),4===r.length&&(r=r.map(e=>"number"==typeof e?{rx:e,ry:e}:e));let[s,o,i,u]=r;return s.rx=c(s.rx,a/2),s.ry=c(s.ry,n/2),o.rx=c(o.rx,a/2),o.ry=c(o.ry,n/2),i.rx=c(i.rx,a/2),i.ry=c(i.ry,n/2),u.rx=c(u.rx,a/2),u.ry=c(u.ry,n/2),this.pathData.push({type:"M",values:[e+s.rx,t]}),this.pathData.push({type:"L",values:[e+a-o.rx,t]}),this.pathData.push({type:"A",values:[o.rx,o.ry,0,0,1,e+a,t+o.ry]}),this.pathData.push({type:"L",values:[e+a,t+n-i.ry]}),this.pathData.push({type:"A",values:[i.rx,i.ry,0,0,1,e+a-i.rx,t+n]}),this.pathData.push({type:"L",values:[e+u.rx,t+n]}),this.pathData.push({type:"A",values:[u.rx,u.ry,0,0,1,e,t+n-u.ry]}),this.pathData.push({type:"L",values:[e,t+s.ry]}),this.pathData.push({type:"A",values:[s.rx,s.ry,0,0,1,e+s.rx,t]}),this.pathData.push({type:"Z",values:[]}),void(this._currentPoint=[e+s.rx,t])}default:return}this.pathData.push({type:n,values:r}),this._currentPoint=r.slice(-2)}moveTo(...e){return this._record("moveTo",e),super.moveTo(...e)}lineTo(...e){return this._record("lineTo",e),super.lineTo(...e)}bezierCurveTo(...e){return this._record("bezierCurveTo",e),super.bezierCurveTo(...e)}quadraticCurveTo(...e){return this._record("quadraticCurveTo",e),super.quadraticCurveTo(...e)}arc(...e){return this._record("arc",e),super.arc(...e)}arcTo(...e){return this._record("arcTo",e),super.arcTo(...e)}ellipse(...e){return this._record("ellipse",e),super.ellipse(...e)}rect(...e){return this._record("rect",e),super.rect(...e)}roundRect(...e){return this._record("roundRect",e),super.roundRect(...e)}closePath(...e){return this._record("closePath",e),super.closePath(...e)}getPathData(e={}){return Object.keys(e).length&&(this.pathData=ee(this.pathData,e)),this.pathData}addPath(e,t){let a=[];if(super.addPath(e,t),e instanceof me)a=e.getPathData();else{if("string"!=typeof e)throw new Error("Unsupported path type for addPath");a=parsePathDataNormalized(e)}if(t){let{a:e=1,b:l=0,c:n=0,d:r=1,e:s=0,f:o=0}=t;a=ee(a,{arcToCubic:!0});for(let t=0,i=a.length;t<i;t++){let{type:i,values:u}=a[t];if(u.length)for(let t=0,a=u.length;t<a;t+=2){let a={x:u[t],y:u[t+1]};u[t]=e*a.x+n*a.y+s,u[t+1]=l*a.x+r*a.y+o}}}this.pathData.push(...a)}getPathDataString(e={}){return Object.keys(e).length&&(this.pathData=ee(this.pathData,e)),this.pathData.map(e=>`${e.type} ${e.values.join(" ")}`).join(" ")}getD(e={}){return Object.keys(e).length&&(this.pathData=ee(this.pathData,e)),this.pathData.map(e=>`${e.type} ${e.values.join(" ")}`).join(" ")}getPathLengthLookup(e={}){return"function"!=typeof getPathLengthLookup?(console.warn("getPathLengthLookup is not defined"),this.pathData):getPathLengthLookup(this.pathData,{})}getPathLookup(e={}){return"function"!=typeof getPathLengthLookup?(console.warn("getPathLengthLookup is not defined"),this.pathData):(console.log("lookup conv",e),getPathLengthLookup(this.pathData,e))}}SVGGeometryElement.prototype.getPathLookup=function(e="medium",t=!1,a=!0){return he(this,e,t,a)},SVGGeometryElement.prototype.getPathLengthLookup=function(e="medium",t=!1,a=!0){return he(this,e,t,a)},ie.prototype.getPointAtLength=function(e=0,t=!1,a=!1,l=-1){return xe(this,e,t,a,l)},ie.prototype.getExtremes=function(){return fe(this)},ie.prototype.getBBox=function(){if(this.hasOwnProperty("bbox"))return this.bbox;return fe(this),this.bbox},ie.prototype.getArea=function(){return de(this)},ie.prototype.getPolygon=function({keepCorners:e=!0,keepLines:t=!0,threshold:a=1,vertices:l=16,decimals:n=3}={}){return ve(this,{keepCorners:e,keepLines:t,threshold:a,vertices:l,decimals:n})},ie.prototype.getSegmentAtLength=function(e=0,t=!0,a=!0,l=-1){return function(e,t=0,a=!0,l=!0,n=-1){a&&fe(e),l&&de(e);let r=e.segments,s=xe(e,t,!0,!0,n),{com:o,t:i,index:u,segIndex:h,angle:p,x:y,y:c}=s,g={type:"M",values:[o.p0.x,o.p0.y]};if("z"===o.type.toLowerCase()){let{points:e}=r[h],t=e[e.length-1];o={type:"L",values:[t.x,t.y]}}let x=[g,o],f={angle:p,com:o,index:u,pathData:x,d:re(x),t:i,x:y,y:c};return a&&(f.bbox=r[h]?.bbox,r[h]||console.log("no bb",h)),l&&(f.area=r[h]?.area||0),f}(this,e,t,a,l)},ie.prototype.splitPathAtLength=function(e=0){return function(e,t=0){let a=xe(e,t,!0,!0),l=e.pathData,{x:n,y:r,index:s,commands:o=[]}=a;if(!t)return{pathDataArr:[l,[]],dArr:[re(l),""],index:0};let[i,u]=o,h={x:l[0].values[0],y:l[0].values[1]},p=[],y=[];l.forEach((e,t)=>{let{type:a,values:l}=e;t<s?p.push(e):t===s?(p.push(i),y.push({type:"M",values:[n,r]},u)):t>s&&("z"===a.toLowerCase()?y.push({type:"L",values:[h.x,h.y]}):y.push(e))});let c=re(p),g=re(y);return{pathDataArr:[p,y],dArr:[c,g],index:s}}(this,e)},"undefined"!=typeof window&&(window.getPathLengthLookup=he,window.getPathLookup=ue,window.getPathLength=ye,window.getPathLengthFromD=pe,window.parsePathDataString=ne,window.normalizePathInput=oe,window.parsePathDataNormalized=te,window.getPathDataFromEl=se,window.normalizePathData=ee,window.stringifyPathData=re,window.getPolygonFromLookup=ve,window.Path2D_svg=me),e.PI=A,e.Path2D_svg=me,e.abs=t,e.acos=a,e.asin=l,e.atan=n,e.atan2=r,e.ceil=s,e.cos=o,e.exp=i,e.floor=u,e.getPathDataFromEl=se,e.getPathLength=ye,e.getPathLengthFromD=pe,e.getPathLengthLookup=he,e.getPathLookup=ue,e.getPolygonFromLookup=ve,e.hypot=p,e.log=h,e.max=y,e.min=c,e.normalizePathData=ee,e.normalizePathInput=oe,e.parsePathDataNormalized=te,e.parsePathDataString=ne,e.pow=g,e.random=x,e.round=f,e.sin=d,e.sqrt=v,e.stringifyPathData=re,e.tan=m}(this["svg-getpointatlength"]=this["svg-getpointatlength"]||{});
