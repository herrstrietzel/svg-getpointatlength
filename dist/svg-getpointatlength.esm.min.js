const e={},t=2*Math.PI,{abs:a,acos:l,asin:n,atan:s,atan2:r,ceil:i,cos:o,exp:h,floor:u,log:y,max:p,min:c,pow:g,random:x,round:f,sin:d,sqrt:m,tan:v,PI:A}=Math;function M(e,t,a=!1){let l=Math.atan2(t.y-e.y,t.x-e.x);return a&&l<0&&(l+=2*Math.PI),l}function w(e,t){return e.y===t.y?Math.abs(t.x-e.x):e.x===t.x?Math.abs(t.y-e.y):m((t.x-e.x)**2+(t.y-e.y)**2)}function b(e,t,a,l=!1){let n={x:(t.x-e.x)*a+e.x,y:(t.y-e.y)*a+e.y};return l&&(n.angle=M(e,t),n.angle<0&&(n.angle+=2*A)),n}function L(e,t=.5,a=!1,l=!1){let n;if(e.length>2)n=((e,t,a=!1)=>{let n=4===e.length,s=e[0],r=e[1],i=n?e[2]:e[1],o=e[e.length-1],h={x:0,y:0};if(a||l){let e,a,u,y,p,c=s.x===r.x&&s.y===r.y,g=o.x===i.x&&o.y===i.y;0!==t||c?1!==t||g?(c&&(t+=1e-7),g&&(t-=1e-7),e=b(s,r,t),n?(a=b(r,i,t),u=b(i,o,t),y=b(e,a,t),p=b(a,u,t),h=b(y,p,t),h.angle=M(y,p),l&&(h.commands=[{type:"C",values:[e.x,e.y,y.x,y.y,h.x,h.y]},{type:"C",values:[p.x,p.y,u.x,u.y,o.x,o.y]}],h.segments=[{p0:s,cp1:e,cp2:y,p:h},{p0:h,cp1:p,cp2:u,p:o}])):(a=b(s,r,t),u=b(r,o,t),h=b(a,u,t),h.angle=M(a,u),l&&(h.commands=[{type:"Q",values:[a.x,a.y,h.x,h.y]},{type:"Q",values:[u.x,u.y,o.x,o.y]}],h.segments=[{p0:s,cp1:a,p:h},{p0:h,cp1:u,p:o}]))):(h.x=o.x,h.y=o.y,h.angle=M(i,o)):(h.x=s.x,h.y=s.y,h.angle=M(s,r))}else{let e=1-t;h=n?{x:e**3*s.x+3*e**2*t*r.x+3*e*t**2*i.x+t**3*o.x,y:e**3*s.y+3*e**2*t*r.y+3*e*t**2*i.y+t**3*o.y}:{x:e*e*s.x+2*e*t*r.x+t**2*o.x,y:e*e*s.y+2*e*t*r.y+t**2*o.y}}return h})(e,t,a);else{let s=e[0],r=e[1];n=b(s,r,t,a),l&&(n.commands=[{type:"L",values:[n.x,n.y]},{type:"L",values:[r.x,r.y]}],n.segments=[{p0:s,p:n},{p0:n,p:r}])}return a&&n.angle<0&&(n.angle+=2*A),n}function P(e,t,l,n,s,i,h,u,y){const p=(e,t,a,l)=>r(l-t,a-e);let c={cx:0,cy:0,rx:l=a(l),ry:n=a(n),startAngle:0,endAngle:0,deltaAngle:0,clockwise:h,xAxisRotation:s,largeArc:i,sweep:h};if(0==l||0==n)throw Error("rx and ry can not be 0");if(l===n){let a=Math.abs(u-e),l=Math.abs(y-t),n=a,s=Math.min(e,u),r=Math.min(t,y),i=.5*Math.PI;if(0===a&&l||0===l&&a)return n=0===a&&l?l/2:a/2,c.rx=n,c.ry=n,0===a&&l?(c.cx=e,c.cy=r+l/2,c.startAngle=t>y?i:-i,c.endAngle=t>y?-i:i,c.deltaAngle=h?Math.PI:-Math.PI):0===l&&a&&(c.cx=s+a/2,c.cy=t,c.startAngle=e>u?Math.PI:0,c.endAngle=e>u?-Math.PI:Math.PI,c.deltaAngle=h?Math.PI:-Math.PI),c}let g,x,f=l===n?0:s*A/180,v=f?d(f):0,M=f?o(f):1,w=(e-u)/2,b=(t-y)/2,L=(e+u)/2,P=(t+y)/2,k=f?M*w+v*b:w,I=f?M*b-v*w:b,C=k*k/(l*l)+I*I/(n*n);C>1&&(l*=m(C),n*=m(C),c.rx=l,c.ry=n);let N=l*n,D=l*I,z=n*k,E=D**2+z**2;if(!E)throw Error("start point can not be same as end point");let R=m(a((N*N-E)/E));i==h&&(R=-R);let S=R*D/n,j=-R*z/l;g=f?M*S-v*j+L:L+S,x=f?v*S+M*j+P:P+j,c.cy=x,c.cx=g;let q=p(g,x,e,t),F=p(g,x,u,y);!h&&F>q&&(F-=2*Math.PI),h&&q>F&&(F=F<=0?F+2*Math.PI:F);let Q=F-q;return c.startAngle=q,c.endAngle=F,c.deltaAngle=Q,c}function k(e,t,a,l=0,n=!1){if(!l)return e;n&&(l=l/180*Math.PI);let s=Math.cos(l),r=Math.sin(l);return{x:s*(e.x-t)+r*(e.y-a)+t,y:s*(e.y-a)-r*(e.x-t)+a}}function I(e,t,a,l,n,r=0,i=!0,h=!1){if(n=h?n*A/180:n,r=h?r*A/180:r,r=a!==l&&r!==2*A?r:0,i&&a!==l){let e=s(v(n=r?n-r:n)*(a/l));n=o(n)<0?e+A:e}let u=e+a*o(n),y=t+l*d(n),p={x:u,y:y};return r&&(p.x=e+(u-e)*o(r)-(y-t)*d(r),p.y=t+(u-e)*d(r)+(y-t)*o(r)),p}function C(e,t,a){if(t===a||e%A*.5==0)return e;let l=s(v(e)*(t/a));return l=o(e)<0?l+A:l,l}function N(e,t,a){if(t===a||e%A*.5==0)return e;let l=s(v(e)*(a/t));return o(e)<0?l+A:l}function D(e,t,a){let l=-e*d(a),n=t*o(a);return r(n,l)}function z(e,t=.001){let l=0;for(let t=0,a=e.length;a&&t<a;t++){let a=e[t].x,n=e[t===e.length-1?0:t+1];l+=a*n.y*.5-n.x*e[t].y*.5}return a(l)<t}function E(e,t=-1,a=1){let l,n,s,r,i,o,h,u,y=[];s=.5*(a+t),r=.5*(a-t);for(let t=(e+1>>1)-1;t>=0;t--){n=Math.cos(Math.PI*(t+.75)/(e+.5));do{u=1,h=0;for(let t=0;t<e;t++)o=h,h=u,u=((2*t+1)*n*h-t*o)/(t+1);i=e*(n*u-h)/(n*n-1),l=n,n=l-u/i}while(Math.abs(n-l)>1e-14);let a=2*r/((1-n*n)*i*i),p=s+r*n;y.push([a,-p],[a,p])}return y}function R(e,t,a,l,n){return e*(e*(-3*t+9*a-9*l+3*n)+6*t-12*a+6*l)-3*t+3*a}function S(t,a=1,l=0){let n;return n=4===t.length?((t,a,l,n,s,r)=>{if(0===s)return 0;let i=(s=s>1?1:s<0?0:s)/2,o=`wa${r}`;e[o]||(e[o]=E(r));const h=e[o];let u=0,y=t.x,p=t.y,c=a.x,g=a.y,x=l.x,f=l.y,d=n.x,m=n.y;for(let e=0,t=h.length;e<t;e++){let[t,a]=[h[e][0],h[e][1]],l=-i*a+i,n=R(l,y,c,x,d)**2+R(l,p,g,f,m)**2;u+=t*Math.sqrt(n)}return i*u})(t[0],t[1],t[2],t[3],a,l):3===t.length?((e,t,a,l,n=!1)=>{if(0===l)return 0;if(n){let l=w(e,t)+w(t,a),n=w(e,a);if(l===n)return n}let s,r,i,o,h,u,p,c,g;c=2*t.x,g=2*t.y,o=e.x-c+a.x,p=e.y-g+a.y,h=c-2*e.x,u=g-2*e.y,s=4*(o*o+p*p),r=4*(o*h+p*u),i=h*h+u*u;const x=r/(2*s),f=l+x,d=i/s-x**2;return m(s)/2*(f*m(f**2+d)-x*m(x**2+d)+d*y((f+m(f**2+d))/(x+m(x**2+d))))})(t[0],t[1],t[2],a):w(t[0],t[1]),n}function j(e,t=!1,a=-1){a>=0&&(e[0].values=e[0].values.map(e=>+e.toFixed(a)));let l=e[0].values,n=l[0],s=l[1],r=n,i=s;for(let l=1,o=e.length;l<o;l++){let o=e[l],{type:h,values:u}=o,y=t?h.toLowerCase():h.toUpperCase();if(h!==y)switch(h=y,o.type=h,h){case"a":case"A":u[5]=t?u[5]-n:u[5]+n,u[6]=t?u[6]-s:u[6]+s;break;case"v":case"V":u[0]=t?u[0]-s:u[0]+s;break;case"h":case"H":u[0]=t?u[0]-n:u[0]+n;break;case"m":case"M":t?(u[0]-=n,u[1]-=s):(u[0]+=n,u[1]+=s),r=t?u[0]+n:u[0],i=t?u[1]+s:u[1];break;default:if(u.length)for(let e=0;e<u.length;e++)u[e]=t?u[e]-(e%2?s:n):u[e]+(e%2?s:n)}let p=u.length;switch(h){case"z":case"Z":n=r,s=i;break;case"h":case"H":n=t?n+u[0]:u[0];break;case"v":case"V":s=t?s+u[0]:u[0];break;case"m":case"M":r=u[p-2]+(t?n:0),i=u[p-1]+(t?s:0);default:n=u[p-2]+(t?n:0),s=u[p-1]+(t?s:0)}a>=0&&(o.values=o.values.map(e=>+e.toFixed(a)))}return e}function q(e,t=-1,a=!0){let l=!1;if(a){let t=e.map(e=>e.type).join(""),a=/[hstv]/gi.test(t);if(l=/[astvqmhlc]/g.test(t),!a)return e}e=a&&l?function(e,t=-1){return j(e,!1,t)}(e,t):e;let n=[],s={type:"M",values:e[0].values};n.push(s);for(let a=1,l=e.length;a<l;a++){let l,r,i,o,h,u,y,p,c=e[a],{type:g,values:x}=c,f=x.length,d=s.values,m=d.length,[v,A]=[x[f-2],x[f-1]],[M,w]=[d[m-2],d[m-1]];switch(g){case"H":s={type:"L",values:[x[0],w]};break;case"V":s={type:"L",values:[M,x[0]]};break;case"T":[l,r]=[d[0],d[1]],[M,w]=[d[m-2],d[m-1]],i=M+(M-l),o=w+(w-r),s={type:"Q",values:[i,o,v,A]};break;case"S":[l,r]=[d[0],d[1]],[M,w]=[d[m-2],d[m-1]],[y,p]=m>2&&"A"!==s.type?[d[2],d[3]]:[M,w],i=2*M-y,o=2*w-p,h=x[0],u=x[1],s={type:"C",values:[i,o,h,u,v,A]};break;default:s={type:g,values:x}}t>-1&&(s.values=s.values.map(e=>+e.toFixed(t))),n.push(s)}return n}function F(e,t={}){let a=$(e),{hasRelatives:l,hasShorthands:n,hasQuadratics:s,hasArcs:r}=a,i=a.pathData;return l&&(i=j(i,!1)),n&&(i=q(i,-1,!1)),i}const Q=new Set([77,109,65,97,67,99,76,108,81,113,83,115,84,116,72,104,86,118,90,122]),Z=new Uint8Array(128);function $(e,t=!0){e=e.trim();const a=new Set([5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279]),l=e=>32===e||44===e||10===e||13===e||8232===e||8233===e||9===e||11===e||12===e||160===e||e>=5760&&a.has(e);let n,s=0,r=e.length,i="",o=[],h=-1,u="",y=!1,p=0,c=0,g=0,x=!1,f=new Set([]),d=[];const m=()=>{x&&("M"===i?i="L":"m"===i&&(i="l"),o.push({type:i,values:[]}),h++,c=0,x=!1)},v=(e=!1)=>{(e?p>0:""!==u)&&(t&&-1===h&&(n="Pathdata must start with M command",d.push(n),i="M",o.push({type:i,values:[]}),g=2,c=0,h++),"A"===i||"a"===i?(u=A(),o[h].values.push(...u)):(t&&u[1]&&"."!==u[1]&&"0"===u[0]&&(n="Leading zeros not valid: "+u,d.push(n)),o[h].values.push(+u)),c++,u="",p=0,x=c>=g)},A=()=>{let e=u.length,t=!1;return 3===c&&2===e||4===c&&e>1?(u=[+u[0],+u[1]],t=!0,c++):3===c&&e>=3&&(u=[+u[0],+u[1],+u.substring(2)],t=!0,c+=2),t?u:[+u]},M=()=>{if(h>0){let e=o[h].values.length;if(e&&e<g||e&&e>g||("z"===i||"Z"===i)&&e>0){n=`${h}. command of type "${i}": ${g-e} values too few - ${g} expected`,d[d.length-1]!==n&&d.push(n)}}};let w,b=!1,L=!1,P=!1;for(;s<r;){w=e.charCodeAt(s);let a=w>47&&w<58;if(a||(b=101===w||69===w,L=45===w||43===w,P=46===w),a||L||P||b){if(y||45!==w&&46!==w)m();else{let e=46===w;v(e),m(),e&&p++}u+=e[s],y=b,s++}else{if(w>64&&Q.has(w)){""!==u&&(o[h].values.push(+u),c++,u=""),t&&M(),i=e[s],g=Z[w];let a="M"===i||"m"===i,l=h>0&&("z"===o[h].type||"Z"===o[h].type);f.add(i),l&&!a&&(o.push({type:"m",values:[0,0]}),h++),o.push({type:i,values:[]}),h++,p=0,c=0,x=!1,s++;continue}(w<48||w>5759)&&l(w)&&(v(),y=!1,s++)}}if(v(),t&&M(),t&&d.length){if(n="Invalid path data:\n"+d.join("\n"),"log"!==t)throw new Error(n);console.log(n)}o[0].type="M";let k=Array.from(f).join(""),I=/[lcqamts]/g.test(k),C=/[vhst]/gi.test(k),N=/[a]/gi.test(k),D=/[qt]/gi.test(k);return{pathData:o,hasRelatives:I,hasShorthands:C,hasQuadratics:D,hasArcs:N}}function B(e){let t,a,l,n,s,r,i,o,h,u,y,p,c,g,x,f,d=[],m=e.nodeName;((e,t=9)=>{const a="svg"!==e.nodeName?e.closest("svg"):e,l=e=>{if(null===e)return 0;let a=e.match(/([a-z]+)/gi);a=a?a[0]:"";let l,n=parseFloat(e);if(!a)return n;switch(a){case"in":l=96;break;case"pt":l=1/72*96;break;case"cm":l=1/2.54*96;break;case"mm":l=1/2.54*96/10;break;case"em":case"rem":l=16;break;default:l=1}return+(n*l).toFixed(t)};let n=a.getAttribute("width");n=n?l(n):300;let s=a.getAttribute("height");s=n?l(s):150;let r=a.getAttribute("viewBox");r=r?r.replace(/,/g," ").split(" ").filter(Boolean).map(e=>+e):[];let i=r.length?r[2]:n,o=r.length?r[3]:s,h=i/100,u=o/100,y=Math.sqrt((Math.pow(h,2)+Math.pow(u,2))/2),p=["x","width","x1","x2","rx","cx","r"],c=["y","height","y1","y2","ry","cy"];e.getAttributeNames().forEach(t=>{let a=e.getAttribute(t),n=a;if(p.includes(t)||c.includes(t)){let s=p.includes(t)?h:u;s="r"===t&&i!=o?y:s;let r=a.match(/([a-z|%]+)/gi);r=r?r[0]:"",n=a.includes("%")?parseFloat(a)*s:l(a),e.setAttribute(t,+n)}})})(e);const v=a=>(t={},a.forEach(a=>{t[a]=+e.getAttribute(a)}),t);switch(m){case"path":l=e.getAttribute("d"),d=F(l);break;case"rect":a=["x","y","width","height","rx","ry"],({x:n,y:s,width:r,height:i,rx:h,ry:u}=v(a)),h||u?(h>r/2&&(h=r/2),u>i/2&&(u=i/2),d=[{type:"M",values:[n+h,s]},{type:"L",values:[n+r-h,s]},{type:"A",values:[h,u,0,0,1,n+r,s+u]},{type:"L",values:[n+r,s+i-u]},{type:"A",values:[h,u,0,0,1,n+r-h,s+i]},{type:"L",values:[n+h,s+i]},{type:"A",values:[h,u,0,0,1,n,s+i-u]},{type:"L",values:[n,s+u]},{type:"A",values:[h,u,0,0,1,n+h,s]},{type:"Z",values:[]}]):d=[{type:"M",values:[n,s]},{type:"L",values:[n+r,s]},{type:"L",values:[n+r,s+i]},{type:"L",values:[n,s+i]},{type:"Z",values:[]}];break;case"circle":case"ellipse":a=["cx","cy","rx","ry","r"],({cx:y,cy:p,r:o,rx:h,ry:u}=v(a)),"circle"===m?(h=o,u=o):(h=h||o,u=u||o),d=[{type:"M",values:[y+h,p]},{type:"A",values:[h,u,0,1,1,y-h,p]},{type:"A",values:[h,u,0,1,1,y+h,p]}];break;case"line":a=["x1","y1","x2","y2"],({x1:c,y1:x,x2:g,y2:f}=v(a)),d=[{type:"M",values:[c,x]},{type:"L",values:[g,f]}];break;case"polygon":case"polyline":let t=e.getAttribute("points").replaceAll(","," ").split(" ").filter(Boolean);for(let e=0;e<t.length;e+=2)d.push({type:0===e?"M":"L",values:[+t[e],+t[e+1]]});"polygon"===m&&d.push({type:"Z",values:[]})}return d}function H({type:e="",p0:t={},cp1:l={},cp2:n={},com:s={},p:r={},t:i=1,precision:h="medium",wa:u=[],lg:y=24,rx:p=0,ry:c=0,startAngle:x=0,endAngle:f=0,deltaAngle:v=0,degrees:M=!1}={}){y="medium"===h?24:12;let w=0;switch(e=e?e.toLowerCase():s.type?s.type.toLowerCase():"l"){case"z":case"l":w=S([t,r],i);break;case"a":w=p===c?2*Math.PI*p*(1/360*Math.abs(57.29577951308232*v)):function(e,t,l,n,s=0,r=!0,i=!1,h=[]){i&&(l=l*A/180,n=n*A/180,s=s*A/180),s&&!r?(l=C(N(l,e,t)-s,e,t),n=C(N(n,e,t)-s,e,t)):s&&r&&(l-=s,n-=s),r&&(l=C(l,e,t),n=C(n,e,t));let u=.5*(n-l),y=.5*(n+l),p=0;for(let a=0;a<h.length;a++){let[l,n]=h[a],s=y+u*n;p+=l*m(g(e*d(s),2)+g(t*o(s),2))}return a(u*p)}(p,c,x,f,0,!1,M,u);break;case"q":w=S([t,l,r],i,y);break;case"c":w=S([t,l,n,r],i,y)}return w}function V(a,l="medium",n=!1,s=!0){n&&(s=!1);let r="high"===l,i="medium"===l?24:12,o=[12,24,36,48,60,64,72,96],h=`wa${i}`;e[h]||(e[h]=E(i));let u,y=e[h],p="low"===l?10:12,c="low"===l?15:"medium"===l?23:35,g=c,x=a.length,f=0,d=a[0],m={totalLength:0,segments:[]},v={};for(let e=1;e<x;e++){let l=a[e-1].values,h=l.length;u={x:l[h-2],y:l[h-1]};let x,A,w,b=a[e],{type:k,values:I}=b,N=I.length,D={x:I[N-2],y:I[N-1]},E=0,R=1,j={type:k,index:e,com:{type:k,values:I,p0:u},lengths:[],points:[],angles:[],total:0};switch(k){case"M":d=a[e],E=0;break;case"Z":case"z":case"L":"z"===k.toLowerCase()&&(D={x:d.values[0],y:d.values[1]},j.type="L"),j.points.push(u,D),v={type:k,p0:u,com:b,p:D,t:R},E=H(v),s&&(w=M(u,D),j.angles.push(w));break;case"A":let l=b.values[2],h=b.values[3],m=b.values[4],N=l,q=P(u.x,u.y,b.values[0],b.values[1],b.values[2],h,m,D.x,D.y),{cx:F,cy:Q,rx:Z,ry:$,startAngle:B,endAngle:V,deltaAngle:W}=q;if(v={type:k,p0:u,p:D,t:R,rx:Z,ry:$,startAngle:B,endAngle:V,deltaAngle:W,wa:y},Z!==$){l*=.017453292519943295,B=C(B-l,Z,$),V=C(V-l,Z,$),m&&B>V&&(V+=t),!m&&B<V&&(V-=t);let e=0;if(j.lengths.push(f),j.angles.push(B),v={type:k,p0:u,p:D,t:R,rx:Z,ry:$,startAngle:B,endAngle:V,deltaAngle:W,wa:y},E=H(v),!n)for(let t=1;t<c;t++){let a=B+W/c*t;e=H({type:k,p0:u,p:D,t:R,rx:Z,ry:$,startAngle:B,endAngle:a,wa:y}),j.lengths.push(e+f),j.angles.push(a)}j.angles.push(V)}else if(E=H(v),s){let e=B,t=V;j.angles=[e+.5*Math.PI,t+.5*Math.PI]}j.points=[u,{startAngle:B,deltaAngle:W,endAngle:V,xAxisRotation:l,xAxisRotation_deg:N,largeArc:h,sweep:m,rx:Z,ry:$,cx:F,cy:Q},D];break;case"C":case"Q":x={x:I[0],y:I[1]},A="C"===k?{x:I[2],y:I[3]}:x;let _="C"===k?[u,x,A,D]:[u,x,D];g="Q"===k?p:c,v={p0:u,type:k,com:b,cp1:x,cp2:A,p:D,t:1,wa:y,lg:i},j.lengths.push(f);let U=z(_),O=!1;if(U){let e=Math.min(u.y,D.y),t=Math.min(u.x,D.x),a=Math.max(u.x,D.x),l=Math.max(u.y,D.y);(x.y<e||x.y>l||A.y<e||A.y>l||x.x<t||x.x>a||A.x<t&&A.x>a)&&(O=!0,U=!1)}if(O&&"Q"===k){let e={x:u.x+2/3*(x.x-u.x),y:u.y+2/3*(x.y-u.y)};A={x:D.x+2/3*(x.x-D.x),y:D.y+2/3*(x.y-D.y)},x=e,k="C",j.type="C",_=[u,x,A,D]}if(U){_=[u,D],E=S(_),j.type="L",j.points.push(u,D),s&&(w=M(u,D),j.angles.push(w));break}if(E=H(v),"C"===k&&r){let e,t=!1,a=.001,l=0;for(let n=1;n<o.length&&!t;n++){let s=o[n];v.lg=s,e=H(v),l=Math.abs(e-E),l<a||n===o.length-1?(i=o[n-1],t=!0):E=e}}if(!n&&!U){if(s){let e=L(_,0,!0).angle;j.angles.push(e,L(_,1,!0).angle)}let e=0;for(let t=1;t<g;t++)R=1/g*t,v.t=R,e=H(v)+f,j.lengths.push(e);j.points=_}break;default:E=0}n||(j.lengths.push(E+f),j.total=E),f+=E,"M"!==k&&m.segments.push(j),m.totalLength=f,b.index&&(j.index=b.index,j.com=b.com),"Z"===k&&(j.com.values=[D.x,D.y])}return m}function W(e=0,t=[],a=[]){this.totalLength=e,this.segments=t,this.pathData=a}function _(e,t=0,a=!1,l=!1){let{segments:n,totalLength:s}=e;n[0].angles.length||(l=!1);let r=l,i=n[0],o=n[n.length-1],h=i.points[0],u=i.angles[0];u=u<0?u+2*Math.PI:u;let y,p,c,g,x,f,d,m,v,A=0,M=!1,w={x:h.x,y:h.y};if(a&&(w.angle=u,"A"===i.type&&(({rx:p,ry:c,xAxisRotation:g,xAxisRotation_deg:x,sweep:f,largeArc:d,deltaAngle:m}=i.points[1]),p!==c&&(v=m<0?-.5*Math.PI:.5*Math.PI,y=D(p,c,u)-g,y=g?y+v:y,w.angle=y))),l&&(w.index=n[0].index,w.com=n[0].com),0===t)return w;if(t>=s){let e=o.points.slice(-1)[0],t=o.angles.slice(-1)[0];return w.x=e.x,w.y=e.y,a&&(w.angle=t,"A"===o.type&&(({rx:p,ry:c,xAxisRotation:g}=o.points[1]),p!==c&&(y=D(p,c,t)-g,v=m<0?-.5*Math.PI:.5*Math.PI,y=g?y+v:y,w.angle=y))),l&&(w.index=n.length-1,w.com=n[n.length-1].com),w}for(let e=0,s=n.length;e<s&&!M;e++){let s=n[e],{type:i,lengths:o,points:h,total:u,angles:p,com:c}=s,g=o[o.length-1],x=1/(o.length-1),f=c.p0;if(g>=t){M=!0;let e,n=!1;switch(i){case"L":e=g-t,A=1-1/u*e,w=L(h,A,a,r),w.type="L",a&&(w.angle=p[0]);break;case"A":e=g-t;let{rx:i,ry:d,cx:m,cy:M,startAngle:b,endAngle:P,deltaAngle:C,sweep:N,largeArc:z,xAxisRotation:E,xAxisRotation_deg:R}=s.points[1];if(i!==d){v=C<0?-.5*Math.PI:.5*Math.PI;for(let e=1,a=o.length;e<a&&!n;e++){let a=o[e];if(t<a){n=!0;let r=1/(a-o[e-1])*(a-t)||1,h=p[e-1],u=p[e],c=(h-u)*r+u;if(w=I(m,M,i,d,c,E,!1,!1),y=D(i,d,c)-E,y=E?y+v:y,w.angle=y,l){let e=s.points[2],t=Math.abs(c-b),a=Math.abs(P-c),l=t>=Math.PI?1:0,n=a>=Math.PI?1:0;w.commands=[{type:"A",values:[i,d,R,l,N,w.x,w.y]},{type:"A",values:[i,d,R,n,N,e.x,e.y]}]}}}}else{A=1-1/u*e;let t=-C*A;if(f=s.points[0],w=k(f,m,M,t),a){let e=C>0?Math.PI/2:Math.PI/-2;w.angle=b+C*A+e}}break;case"C":case"Q":for(let e=0;e<o.length&&!n;e++){let l=o[e];if(a&&(w.angle=p[0]),0===e)w.x=c.p0.x,w.y=c.p0.y;else if(l===t)w.x=h[h.length-1].x,w.y=h[h.length-1].y;else if(l>t&&e>0){n=!0,A=x*e-x*(1/(l-(e>0?o[e-1]:o[e]))*(l-t)||0)||0,w=L(h,A,a,r)}}}w.t=A}l&&(w.index=s.index,w.com=s.com)}return w}function U(e,t="medium",a=!1,l=!0){if(!e)throw Error("No path data defined");let n=F(e);if(!n)throw Error("No valid path data to parse");let s=V(n,t,a,l);return a?s.pathLength:new W(s.totalLength,s.segments,n)}function O(e,t="medium",a=!0){return T(F(e),t,a)}function T(e,t="medium",a=!0){return V(e,t,a)}function G(e){return e.map(e=>`${e.type} ${e.values.join(" ")}`).join(" ")}function J(e,t=!1){let a=Array.isArray(e)&&e.length?"array":e.length?typeof e:null;if(!a)return null;const l=e=>{let t=[{type:"M",values:[e[0],e[1]]}];for(let a=3,l=e.length;a<l;a+=2){let[l,n]=[e[a-1],e[a]];t.push({type:"L",values:[l,n]})}return t};let n=[];if("array"===a){if(!!e[0].type){"object"==typeof e[0]&&"object"!=typeof e[0].constructor&&(e=(e=>{let t=[];return e.forEach(e=>{t.push({type:e.type,values:e.values})}),t})(e));let t=Array.from(new Set(e.map(e=>e.type))).join(""),a=/[lcqamts]/gi.test(t),l=/[vhst]/gi.test(t);a&&(e=j(e,!1)),l&&(e=q(e)),n=e}else{if(Array.isArray(e[0])){let t=!("object"!=typeof e[0][0]||!e[0][0].x||isNaN(e[0][0].x)),a=2===e[0][0].length&&!isNaN(e[0][0][0]);if(t||a)for(let a=0,l=e.length;a<l;a++){let l=e[a];for(let e=0,a=l.length;e<a;e++){let a=l[e],s=0===e?"M":"L",r=t?[a.x,a.y]:[a[0],a[1]];n.push({type:s,values:r})}}else{if(2===e[0].length&&!isNaN(e[0][0])){n=[{type:"M",values:[e[0][0],e[0][1]]}];for(let t=1,a=e.length;t<a;t++){let a=e[t];n.push({type:"L",values:[a[0],a[1]]})}}}}else{!isNaN(e[0])&&(n=l(e))}}}else{if((e=e.trim()).startsWith("<svg")){let t=(new DOMParser).parseFromString(e,"text/html").querySelector("svg"),a=["path","polygon","polyline","line","rect","circle","ellipse"];[...t.children].filter(e=>a.includes(e.nodeName.toLowerCase())).forEach(e=>{let t=B(e);n.push(...t)})}else{if(e.startsWith("M")||e.startsWith("m"))n=F(e);else{!isNaN(e.trim()[0])&&(e=e.split(/,| /).map(Number),n=l(e))}}}return t?n.length&&G(n):n}Z[77]=2,Z[109]=2,Z[65]=7,Z[97]=7,Z[67]=6,Z[99]=6,Z[76]=2,Z[108]=2,Z[81]=4,Z[113]=4,Z[83]=4,Z[115]=4,Z[84]=2,Z[116]=2,Z[72]=1,Z[104]=1,Z[86]=1,Z[118]=1,Z[90]=0,Z[122]=0,W.prototype.getPointAtLength=function(e=0,t=!1,a=!1){return _(this,e,t,a)},W.prototype.getSegmentAtLength=function(e=0,t=!0,a=!0){let l=_(this,e,t,a),{com:n,t:s,index:r,angle:i,x:o,y:h,segments:u}=l,y={type:"M",values:[n.p0.x,n.p0.y]};if("z"===n.type.toLowerCase()){let e=u[u.length-1].p;n={type:"L",values:[e.x,e.y]}}let p=[y,n];return{angle:i,com:n,index:r,pathData:p,d:stringifyPathData(p),t:s,x:o,y:h}},W.prototype.splitPathAtLength=function(e=0,t=!0,a=!0){let l=_(this,e,t,a),n=this.pathData,{x:s,y:r,index:i,commands:o}=l,[h,u]=o,y={x:n[0].values[0],y:n[0].values[1]},p=[],c=[];n.forEach((e,t)=>{let{type:a,values:l}=e;t<i?p.push(e):t===i?(p.push(h),c.push({type:"M",values:[s,r]},u)):t>i&&("z"===a.toLowerCase()?c.push({type:"L",values:[y.x,y.y]}):c.push(e))});let g=stringifyPathData(p),x=stringifyPathData(c);return{pathDataArr:[p,c],dArr:[g,x],index:i}},"undefined"!=typeof window&&(window.getPathLengthLookup=U,window.getPathLengthFromD=O,window.getPathDataFromEl=B,window.normalizePathInput=J,window.stringifyPathData=G,window.parse=$);export{B as getPathDataFromEl,T as getPathDataLength,O as getPathLengthFromD,U as getPathLengthLookup,J as normalizePathInput,$ as parse,G as stringifyPathData};
